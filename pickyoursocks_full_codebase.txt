# Pickyoursocks Project Codebase Summary
# Generated for GPT sharing
# ==================================================


====================
FILE: aggregate_code.py
====================

import os

def create_codebase_summary(root_dir, output_file):
    exclude_dirs = {'.git', 'node_modules', 'dist', 'build', '.next', '__pycache__'}
    exclude_files = {'package-lock.json', 'yarn.lock', '.DS_Store', 'favicon.ico'}
    include_extensions = {'.ts', '.tsx', '.js', '.jsx', '.json', '.html', '.css', '.md', '.env', '.py'}

    with open(output_file, 'w', encoding='utf-8') as f:
        f.write("# Pickyoursocks Project Codebase Summary\n")
        f.write(f"# Generated for GPT sharing\n")
        f.write("# " + "="*50 + "\n\n")

        for root, dirs, files in os.walk(root_dir):
            # Prune directories
            dirs[:] = [d for d in dirs if d not in exclude_dirs]
            
            for file in files:
                if file in exclude_files:
                    continue
                
                ext = os.path.splitext(file)[1].lower()
                if ext not in include_extensions:
                    continue

                full_path = os.path.join(root, file)
                rel_path = os.path.relpath(full_path, root_dir)
                
                f.write(f"\n{'='*20}\n")
                f.write(f"FILE: {rel_path}\n")
                f.write(f"{'='*20}\n\n")
                
                try:
                    with open(full_path, 'r', encoding='utf-8') as src:
                        f.write(src.read())
                except Exception as e:
                    f.write(f"Error reading file: {e}")
                
                f.write("\n\n")

if __name__ == "__main__":
    project_root = r"c:\Users\rohan\OneDrive\Desktop\hi\Pickyoursocks"
    output_path = r"c:\Users\rohan\OneDrive\Desktop\hi\Pickyoursocks\pickyoursocks_full_codebase.txt"
    create_codebase_summary(project_root, output_path)
    print(f"Codebase summary created at: {output_path}")



====================
FILE: Backend\index.js
====================

import dotenv from 'dotenv';
dotenv.config(); // âœ… MUST BE FIRST

import express from 'express';
import cors from 'cors';
import uploadRoutes from './routes/upload.js';

const app = express();

app.use(cors());
app.use(express.json());

app.use('/api/upload', uploadRoutes);

app.listen(process.env.PORT, () => {
  console.log(`Backend running on port ${process.env.PORT}`);
});



====================
FILE: Backend\package.json
====================

{
  "type": "module",
  "name": "backend",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": "",
  "dependencies": {
    "@aws-sdk/client-s3": "^3.971.0",
    "cors": "^2.8.5",
    "dotenv": "^17.2.3",
    "express": "^5.2.1",
    "multer": "^2.0.2"
  }
}



====================
FILE: Backend\routes\upload.js
====================

import express from 'express';
import multer from 'multer';
import { S3Client, PutObjectCommand } from '@aws-sdk/client-s3';

const router = express.Router();

const upload = multer({
  limits: { fileSize: 50 * 1024 * 1024 }
});

// âœ… CREATE CLIENT ONLY WHEN NEEDED
const getR2Client = () => {
  if (!process.env.CF_ACCESS_KEY || !process.env.CF_SECRET_KEY) {
    throw new Error('R2 credentials missing from env');
  }

  return new S3Client({
    region: 'auto',
    endpoint: `https://${process.env.CF_ACCOUNT_ID}.r2.cloudflarestorage.com`,
    credentials: {
      accessKeyId: process.env.CF_ACCESS_KEY,
      secretAccessKey: process.env.CF_SECRET_KEY
    }
  });
};

/* -------- PROFILE PHOTO -------- */
router.post('/profile-photo', upload.single('file'), async (req, res) => {
  try {
    const { file } = req;
    const { userId } = req.body;

    if (!file || !userId) {
      return res.status(400).json({ error: 'File or userId missing' });
    }

    const r2 = getR2Client(); // âœ… env-safe
    const key = `profiles/${userId}.jpg`;

    await r2.send(
      new PutObjectCommand({
        Bucket: process.env.CF_BUCKET_NAME,
        Key: key,
        Body: file.buffer,
        ContentType: file.mimetype
      })
    );

    res.json({
      url: `${process.env.CF_PUBLIC_URL}/${key}`
    });
  } catch (err) {
    console.error('PROFILE PHOTO UPLOAD ERROR:', err);
    res.status(500).json({ error: err.message });
  }
});

/* -------- POST MEDIA -------- */
router.post('/post-media', upload.single('file'), async (req, res) => {
  try {
    const { file } = req;
    const { userId } = req.body;

    const r2 = getR2Client();
    const key = `posts/${userId}/${Date.now()}-${file.originalname}`;

    await r2.send(
      new PutObjectCommand({
        Bucket: process.env.CF_BUCKET_NAME,
        Key: key,
        Body: file.buffer,
        ContentType: file.mimetype
      })
    );

    res.json({
      url: `${process.env.CF_PUBLIC_URL}/${key}`
    });
  } catch (err) {
    console.error('POST MEDIA UPLOAD ERROR:', err);
    res.status(500).json({ error: err.message });
  }
});

export default router;



====================
FILE: frontend\App.tsx
====================

import React from 'react';
import { Routes, Route } from 'react-router-dom';

import Navbar from './components/Navbar';
import Hero from './components/Hero';
import Features from './components/Features';
import SportsGrid from './components/SportsGrid';
import Community from './components/Community';
import Waitlist from './components/Waitlist';
import Footer from './components/Footer';
import PrivacyPolicy from './components/PrivacyPolicy';
import TermsOfService from './components/TermsOfService';

// Pages
import Auth from './pages/Auth';
import Feed from './pages/Feed';
import Profile from './pages/Profile';
import Radar from './pages/Radar';
import AllSports from './pages/AllSports';
import Rankings from './pages/Rankings';
import ProtectedRoute from './components/ProtectedRoute';

/* ======================
   Home Page (PUBLIC)
====================== */
const Home: React.FC = () => {
  return (
    <div className="min-h-screen bg-black text-white selection:bg-blue-600 selection:text-white">
      <Navbar />

      <main>
        <Hero />

        <div className="relative z-10 bg-black">
          <Features />
          <SportsGrid limit={4} />
          <Community />
          <Waitlist />
        </div>
      </main>

      <Footer />

      {/* Background static / noise overlay */}
      <div className="fixed inset-0 pointer-events-none opacity-[0.03] z-[100] mix-blend-overlay">
        <div className="w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')]" />
      </div>
    </div>
  );
};

import { NotificationProvider } from './components/NotificationContext';

/* ======================
   App Router
 ====================== */
const App: React.FC = () => {
  return (
    <NotificationProvider>
      <Routes>
        {/* Public Routes */}
        <Route path="/" element={<Home />} />
        <Route path="/auth" element={<Auth />} />
        <Route path="/sports" element={<AllSports />} />
        <Route path="/privacy" element={<PrivacyPolicy />} />
        <Route path="/terms" element={<TermsOfService />} />

        {/* Protected Routes */}
        <Route
          path="/feed"
          element={
            <ProtectedRoute>
              <Feed />
            </ProtectedRoute>
          }
        />

        <Route
          path="/radar"
          element={
            <ProtectedRoute>
              <Radar />
            </ProtectedRoute>
          }
        />

        <Route
          path="/profile"
          element={
            <ProtectedRoute>
              <Profile />
            </ProtectedRoute>
          }
        />
        <Route
          path="/profile/:userId"
          element={
            <ProtectedRoute>
              <Profile />
            </ProtectedRoute>
          }
        />

        <Route
          path="/rankings"
          element={
            <ProtectedRoute>
              <Rankings />
            </ProtectedRoute>
          }
        />
      </Routes>
    </NotificationProvider>
  );
};

export default App;



====================
FILE: frontend\constants.tsx
====================


import { Feature, SportCategory, AthleteProfile } from './types';

export const FRAME_COUNT = 2; // 0, 1, 2 = 3 images
export const SCROLL_HEIGHT_MULTIPLIER = 5;

export const FEATURES: Feature[] = [
  {
    id: 'elo',
    title: 'Fair Skill Ratings',
    description: 'Stop playing mismatched games. Our ranking algorithm finds you opponents at your exact skill level for every sport.',
    icon: 'target'
  },
  {
    id: 'recruit',
    title: 'Verified Athlete Profile',
    description: 'Your digital sports career. Track your win rates, upload highlight reels, and get discovered by local teams/scouts.',
    icon: 'user-check'
  },
  {
    id: 'venue',
    title: 'Instant Court Booking',
    description: 'No more "where are we playing?" Secure high-quality courts instantly through our network of partner venues.',
    icon: 'map-pin'
  }
];

export const SPORTS: SportCategory[] = [
  {
    id: 'tennis',
    name: 'Tennis',
    image: '/Tennis.jpg',
    description: 'Find local courts and players at your skill level.'
  },
  {
    id: 'badminton',
    name: 'Badminton',
    image: '/badminton.jpg', // Placeholder
    description: 'Smash it on the court with local players.'
  },
  {
    id: 'squash',
    name: 'Squash',
    image: '/squash.jpg', // Placeholder
    description: 'High-intensity rallies in your area.'
  },
  {
    id: 'table-tennis',
    name: 'Table Tennis',
    image: '/table-tennis.jpg', // Placeholder
    description: 'Fast-paced ping pong action.'
  },
  {
    id: 'pickleball',
    name: 'Pickleball',
    image: '/pickleball.jpg', // Placeholder
    description: 'The fastest growing sport in the world.'
  },
  {
    id: 'padel',
    name: 'Padel',
    image: '/padel.jpg', // Placeholder
    description: 'Social and competitive padel matches.'
  },
  {
    id: 'football',
    name: 'Football',
    image: '/cristiano_ronaldo.png',
    description: 'Organize 5-a-side matches with ELO ratings.'
  },
  {
    id: 'mma',
    name: 'MMA',
    image: '/conor_mcgregor.jpeg',
    description: 'Find sparring partners and local gyms.'
  },
  {
    id: 'fitness',
    name: 'Gym & Fitness',
    image: '/Crossfit.JPG',
    description: 'Connect with training partners for maximum gains.'
  }
];

export const ATHLETES: AthleteProfile[] = [
  {
    id: '1',
    name: 'User_7721',
    sport: 'Boxing',
    rating: 2450,
    image: '/avatar-1.png',
    bio: 'Heavyweight metrics: Top 5% punch velocity in region.'
  },
  {
    id: '2',
    name: 'User_9904',
    sport: 'Sprinting',
    rating: 2100,
    image: '/avatar-2.png',
    bio: 'Track split times verified. 98th percentile acceleration.'
  },
  {
    id: '3',
    name: 'User_3382',
    sport: 'Football',
    rating: 1850,
    image: '/avatar-3.png',
    bio: 'Midfield playmaker stats: 88% pass accuracy average.'
  }
];

export interface FeedItem {
  id: string;
  type: 'match' | 'post' | 'event';
  sport: string;
  title: string;
  description: string;
  time: string;
  author: string;
  authorImage: string;
  image?: string;
  likes: number;
  comments: number;
}

export const FEED_ITEMS: FeedItem[] = [
  {
    id: 'f1',
    type: 'match',
    sport: 'football',
    title: '5-a-side Friendly Match',
    description: 'Looking for 2 more players for a casual game this Sunday evening at Turbo Turf.',
    time: '2 hours ago',
    author: 'Rahul D.',
    authorImage: 'https://i.pravatar.cc/150?u=rahul',
    likes: 12,
    comments: 4
  },
  {
    id: 'f2',
    type: 'post',
    sport: 'tennis',
    title: 'Best courts in South Mumbai?',
    description: 'Can anyone recommend good clay courts near Colaba? Willing to travel a bit if the facility is top tier.',
    time: '4 hours ago',
    author: 'Priya S.',
    authorImage: 'https://i.pravatar.cc/150?u=priya',
    image: '/Tennis.jpg',
    likes: 45,
    comments: 23
  },
  {
    id: 'f3',
    type: 'event',
    sport: 'badminton',
    title: 'Weekend Doubles Tournament',
    description: 'Registration open for the Amateur Doubles Cup. Prizes worth â‚¹10k!',
    time: '1 day ago',
    author: 'Smash Club',
    authorImage: 'https://i.pravatar.cc/150?u=smash',
    image: '/badminton.jpg',
    likes: 89,
    comments: 15
  },
  {
    id: 'f4',
    type: 'match',
    sport: 'squash',
    title: 'Sparring Partner Needed (Advanced)',
    description: 'Looking for someone rated 2000+ to practice drills with on Tuesday mornings.',
    time: '5 hours ago',
    author: 'Vikram R.',
    authorImage: 'https://i.pravatar.cc/150?u=vikram',
    likes: 8,
    comments: 1
  },
  {
    id: 'f5',
    type: 'post',
    sport: 'pickleball',
    title: 'Pickleball vs Padel?',
    description: 'Just tried Pickleball for the first time and loved it! How does it compare to Padel intensity-wise?',
    time: '30 mins ago',
    author: 'Sarah J.',
    authorImage: 'https://i.pravatar.cc/150?u=sarah',
    likes: 34,
    comments: 12
  },
  {
    id: 'f6',
    type: 'match',
    sport: 'padel',
    title: 'Padel Beginners Meetup',
    description: 'Hosting a session for absolute beginners. Equipment provided. Join us!',
    time: '3 hours ago',
    author: 'Padel Pro',
    authorImage: 'https://i.pravatar.cc/150?u=padel',
    likes: 56,
    comments: 8
  }
];

export interface NearbyUser {
  id: string;
  name: string;
  sport: string;
  distance: string; // e.g., "2 miles away"
  rank: number; // For the numbered list
  image: string;
}

export const NEARBY_USERS: NearbyUser[] = [
  {
    id: 'u1',
    name: 'ALEX PEREIRA',
    sport: 'KICKBOXING',
    distance: '0.5 miles',
    rank: 1,
    image: 'https://i.pravatar.cc/150?u=alex'
  },
  {
    id: 'u2',
    name: 'ISLAM MAKHACHEV',
    sport: 'WRESTLING',
    distance: '1.2 miles',
    rank: 2,
    image: 'https://i.pravatar.cc/150?u=islam'
  },
  {
    id: 'u3',
    name: 'CHARLES OLIVEIRA',
    sport: 'BJJ',
    distance: '2.5 miles',
    rank: 3,
    image: 'https://i.pravatar.cc/150?u=charles'
  },
  {
    id: 'u4',
    name: 'ILAI TOPURIA',
    sport: 'BOXING',
    distance: '3.0 miles',
    rank: 4,
    image: 'https://i.pravatar.cc/150?u=ilia'
  },
  {
    id: 'u5',
    name: 'SEAN O\'MALLEY',
    sport: 'STRIKING',
    distance: '4.1 miles',
    rank: 5,
    image: 'https://i.pravatar.cc/150?u=sean'
  }
];

export interface MatchResult {
  id: string;
  winner: string;
  loser: string;
  winnerElo: number;
  loserElo: number;
  eloChange: number;
  score: string;
}

export const MATCH_RESULTS: MatchResult[] = [
  {
    id: 'm1',
    winner: 'Arjun',
    loser: 'Rahul',
    winnerElo: 1450,
    loserElo: 1420,
    eloChange: 15,
    score: '21-18, 21-19'
  },
  {
    id: 'm2',
    winner: 'Sarah',
    loser: 'Priya',
    winnerElo: 1200,
    loserElo: 1150,
    eloChange: 12,
    score: '6-4, 6-3'
  },
  {
    id: 'm3',
    winner: 'Vikram',
    loser: 'Dev',
    winnerElo: 1600,
    loserElo: 1580,
    eloChange: 10,
    score: '11-9, 11-8, 11-7'
  }
];

export interface MatchOpportunity {
  id: string;
  title: string;
  location: string;
  distance: string;
  requiredEloRange: [number, number];
  sport: string;
  time: string;
  status?: 'active' | 'accepted' | 'expired' | 'completed';
  user_id?: string;
  accepted_by?: string;
  userClaimed?: boolean;
  userClaimedResult?: 'win' | 'loss';
}

export const MATCH_OPPORTUNITIES: MatchOpportunity[] = [
  {
    id: 'mo1',
    title: '2v2 Padel Match - HSR Layout',
    location: 'HSR Layout',
    distance: '1.2km away',
    requiredEloRange: [1100, 1300],
    sport: 'padel',
    time: '7:00 PM'
  },
  {
    id: 'mo2',
    title: 'Tennis Singles - Advanced',
    location: 'Koramangala Club',
    distance: '2.5km away',
    requiredEloRange: [1400, 1600],
    sport: 'tennis',
    time: '6:30 PM'
  },
  {
    id: 'mo3',
    title: 'Badminton Doubles',
    location: 'Smash Arena',
    distance: '0.8km away',
    requiredEloRange: [1000, 1200],
    sport: 'badminton',
    time: '8:00 PM'
  }
];



====================
FILE: frontend\DEPLOYMENT_GUIDE.md
====================

# How to Share Your Website

Great news! Your website build was successful. Now you can easily share it with your friends.

## The Easiest Way: Netlify Drop

Since you have a finished build, the quickest way to get a public link is to use **Netlify Drop**.

1.  **Locate your "dist" folder**:
    *   Open your file explorer to your project folder: `c:\Users\rohan\Downloads\pickyoursocks`
    *   You should see a folder named **`dist`** (this is the "distribution" folder I just built for you).

2.  **Go to Netlify Drop**:
    *   Open your web browser and go to: [https://app.netlify.com/drop](https://app.netlify.com/drop)

3.  **Drag and Drop**:
    *   Simply drag that **`dist`** folder from your file explorer and drop it onto the target area on the Netlify webpage.

4.  **Done!**
    *   Netlify will instantly upload it and give you a live URL (like `https://jovial-babbage-123456.netlify.app`).
    *   Copy that link and send it to your friends!

---

## Alternative: Vercel (If you have an account)

If you prefer Vercel and have the CLI installed:
1.  Open your terminal in this folder.
2.  Run `npx vercel`
3.  Follow the prompts (Hit Enter for everything).
4.  It will give you a `vercel.app` link.



====================
FILE: frontend\index.css
====================

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-black text-white antialiased;
  }

  ::selection {
    @apply bg-blue-600 text-white;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #000;
}

::-webkit-scrollbar-thumb {
  background: #333;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #444;
}

@layer base {

  /* Global Micro-interaction: All buttons shrink slightly when pressed */
  button {
    @apply transition-transform duration-100 ease-in-out active:scale-95;
  }
}

@layer utilities {

  /* Page Entry Animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(10px);
      filter: blur(4px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
    }
  }

  .animate-enter {
    animation: fadeInUp 0.7s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  }
}


====================
FILE: frontend\index.html
====================


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PickYourSocks | Train Better. Connect Faster.</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #000;
        color: #fff;
        margin: 0;
        overflow-x: hidden;
      }
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #000;
      }
      ::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #444;
      }
    </style>

<link rel="stylesheet" href="/index.css">
</head>
  <body>
    <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>



====================
FILE: frontend\index.tsx
====================


import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';
import { AuthProvider } from './components/AuthContext';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

import { BrowserRouter } from 'react-router-dom';

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <BrowserRouter>
      <AuthProvider>
        <App />
      </AuthProvider>
    </BrowserRouter>
  </React.StrictMode>
);



====================
FILE: frontend\metadata.json
====================

{
  "name": "PickYourSocks",
  "description": "A premium, cinematic sports community platform bridging the gap between casual athletic coordination and professional recruitment through scroll-based storytelling and ELO-based matchmaking.",
  "requestFramePermissions": []
}


====================
FILE: frontend\package.json
====================

{
  "name": "pickyoursocks",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@supabase/supabase-js": "^2.89.0",
    "lucide-react": "^0.562.0",
    "react": "^19.2.3",
    "react-dom": "^19.2.3",
    "react-router-dom": "^7.11.0"
  },
  "devDependencies": {
    "@types/node": "^22.14.0",
    "@vitejs/plugin-react": "^5.0.0",
    "typescript": "~5.8.2",
    "vite": "^6.2.0",
    "vite-plugin-pwa": "^1.2.0"
  }
}



====================
FILE: frontend\project_brief.md
====================

# PickYourSocks - Project Brief

## Overview
PickYourSocks is a premium, cinematic digital ecosystem connecting amateur athletes with professional recruitment opportunities. The platform uses an ELO matchmaking system and digital resumes to bridge the gap between casual play and professional sports.

## Tech Stack
- **Frontend**: React (Vite)
- **Styling**: Tailwind CSS (via CDN and local customization)
- **Language**: TypeScript

## Key Features
1.  **Cinematic Hero Section**: Features a static "Pushup" background image with a premium dark mode overlay and "Join Waitlist" call-to-action.
2.  **Sports Arena Grid**: Displays 4 core sports (MMA, Running, Football, Gym) with custom imagery and hover effects (grayscale to color).
3.  **Community Section**: "Precision Scouting" tagline with a "Hire Talent" CTA.
4.  **Waitlist**: Functional email capture form with validation and feedback state.
5.  **Navigation**: Smooth scrolling links connecting all sections.

## Core Codebase

### 1. App.tsx (Main Layout)
```tsx
import React from 'react';
import Navbar from './components/Navbar';
import Hero from './components/Hero';
import Features from './components/Features';
import SportsGrid from './components/SportsGrid';
import Community from './components/Community';
import Waitlist from './components/Waitlist';
import Footer from './components/Footer';

function App() {
  return (
    <div className="min-h-screen bg-black text-white font-sans selection:bg-blue-500 selection:text-white">
      <Navbar />
      <Hero />
      <Features />
      <SportsGrid />
      <Community />
      <Waitlist />
      <Footer />
      
      {/* Noise Overlay for Texture */}
      <div className="fixed inset-0 pointer-events-none opacity-[0.03] z-[100] mix-blend-overlay" 
           style={{ backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")` }} 
      />
    </div>
  );
}

export default App;
```

### 2. constants.tsx (Data Source)
```tsx
import { Feature, SportCategory, AthleteProfile } from './types';

export const FEATURES: Feature[] = [
  {
    id: 'elo',
    title: 'ELO Matchmaking',
    description: 'Dynamic skill models ensure fair games and prevent mismatches. Play against opponents who actually match your level.',
    icon: 'target'
  },
  {
    id: 'recruit',
    title: 'Digital Resumes',
    description: 'Build comprehensive athletic profiles with highlight videos and physical metrics. Get discovered by scouts.',
    icon: 'user-check'
  },
  {
    id: 'venue',
    title: 'Elite Access',
    description: 'Eliminate logistical excuses. Secure high-quality courts and find instant replacements so your training never stops.',
    icon: 'map-pin'
  }
];

export const SPORTS: SportCategory[] = [
  {
    id: 'mma',
    name: 'MMA',
    image: '/conor_mcgregor.jpeg',
    description: 'Find sparring partners and local gyms.'
  },
  {
    id: 'tennis',
    name: 'Tennis',
    image: '/Tennis.jpg',
    description: 'Find local courts and players at your skill level.'
  },
  {
    id: 'football',
    name: 'Football',
    image: '/cristiano_ronaldo.png',
    description: 'Organize 5-a-side matches with ELO ratings.'
  },
  {
    id: 'fitness',
    name: 'Gym & Fitness',
    image: '/Crossfit.JPG',
    description: 'Connect with training partners for maximum gains.'
  }
];

export const ATHLETES: AthleteProfile[] = [
  {
    id: '1',
    name: 'User_7721',
    sport: 'Boxing',
    rating: 2450,
    image: '/avatar-1.png',
    bio: 'Heavyweight metrics: Top 5% punch velocity in region.'
  },
  {
    id: '2',
    name: 'User_9904',
    sport: 'Sprinting',
    rating: 2100,
    image: '/avatar-2.png',
    bio: 'Track split times verified. 98th percentile acceleration.'
  }
];
```

### 3. Hero.tsx (Background Image & Main CTA)
```tsx
import React from 'react';

const Hero: React.FC = () => {
  return (
    <section className="relative w-full h-screen">
      <div className="sticky top-0 h-screen w-full overflow-hidden">
        {/* Background Image */}
        <div className="absolute inset-0 z-0">
          <img 
            src="/Pushups.jpeg" 
            alt="Athlete doing pushups" 
            className="w-full h-full object-cover opacity-90"
          />
          {/* Overlay gradient for text readability */}
          <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent" />
        </div>

        {/* Overlay Content */}
        <div className="absolute inset-0 flex flex-col justify-center px-6 lg:px-12 pointer-events-none z-10">
          <div className="max-w-7xl mx-auto w-full">
            <div className="max-w-3xl translate-y-[5vh]">
              <p className="text-blue-400 font-bold uppercase tracking-[0.3em] mb-4 animate-fade-in opacity-0" style={{ animation: 'fadeIn 1s forwards' }}>
                Train Better. Connect Faster.
              </p>
              <h1 className="text-6xl md:text-9xl font-black italic uppercase tracking-tighter leading-[0.85] mb-8 text-white drop-shadow-2xl">
                Pick Your <br />
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600">Socks</span>
              </h1>
              <p className="text-xl md:text-2xl text-gray-300 mb-12 max-w-xl leading-relaxed font-light drop-shadow-lg">
                Turn Potential Into Performance.
              </p>
              <div className="flex flex-wrap gap-6 pointer-events-auto">
                <a 
                  href="#waitlist" 
                  onClick={(e) => {
                    e.preventDefault();
                    document.getElementById('waitlist')?.scrollIntoView({ behavior: 'smooth' });
                  }}
                  className="group relative px-8 py-4 bg-white text-black rounded-full font-black uppercase tracking-widest transition-all transform hover:scale-105 active:scale-95 overflow-hidden"
                >
                  <span className="relative z-10 group-hover:text-blue-600 transition-colors">Join the Community</span>
                  <div className="absolute inset-0 bg-blue-50 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300" />
                </a>

              </div>
            </div>
          </div>
        </div>
      </div>

      <style>{`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}</style>
    </section>
  );
};

export default Hero;
```

### 4. Features.tsx (Value Proposition)
```tsx
import React from 'react';
import { FEATURES } from '../constants';
import * as Icons from 'lucide-react';

const Features: React.FC = () => {
  return (
    <section id="how-it-works" className="py-24 bg-black relative overflow-hidden">
      {/* Background Gradients */}
      <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
        <div className="absolute top-1/4 left-0 w-[500px] h-[500px] bg-blue-900/10 rounded-full blur-[128px]" />
        <div className="absolute bottom-1/4 right-0 w-[500px] h-[500px] bg-indigo-900/10 rounded-full blur-[128px]" />
      </div>

      <div className="max-w-7xl mx-auto px-6 lg:px-12 relative z-10">
        {/* Mobile Menu Overlay */}
      <div className={`fixed inset-0 bg-black/95 backdrop-blur-xl z-40 transition-transform duration-500 md:hidden flex flex-col items-center justify-center gap-8 ${mobileMenuOpen ? 'translate-x-0' : 'translate-x-full'}`}>
        <a href="#how-it-works" onClick={() => setMobileMenuOpen(false)} className="text-2xl font-black italic uppercase tracking-tighter hover:text-blue-500 transition-colors">How It Works</a>
        <a href="#sports" onClick={() => setMobileMenuOpen(false)} className="text-2xl font-black italic uppercase tracking-tighter hover:text-blue-500 transition-colors">Sports</a>
        <a href="#community" onClick={() => setMobileMenuOpen(false)} className="text-2xl font-black italic uppercase tracking-tighter hover:text-blue-500 transition-colors">Community</a>
      </div>
        <div className="flex flex-col lg:flex-row gap-16 items-center">
          <div className="lg:w-1/2">
            <h2 className="text-blue-500 font-bold uppercase tracking-widest mb-4">The New Standard</h2>
            <h3 className="text-4xl md:text-7xl font-black italic uppercase tracking-tighter leading-tight mb-8">
              Bridges the Gap Between <br />
              <span className="text-white/20">Playing</span> and <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 pr-12">Competing</span>
            </h3>
            <p className="text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed font-light drop-shadow-lg">
              Less planning. More playing. Build your digital sports profile while connecting with athletes like you.
            </p>
          </div>

          <div className="lg:w-1/2 grid grid-cols-1 gap-6">
            {FEATURES.map((feature, idx) => (
              <div key={feature.id} className="group relative p-8 bg-white/5 border border-white/10 rounded-3xl hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 overflow-hidden hover:border-white/20 hover:shadow-2xl hover:shadow-blue-900/20">

                {/* Hover Glow Effect */}
                <div className="absolute inset-0 bg-gradient-to-r from-blue-600/0 via-blue-600/5 to-purple-600/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 ease-in-out" />

                <div className="flex items-start gap-6 relative z-10">
                  <div className="relative w-20 h-20 rounded-2xl flex items-center justify-center bg-gradient-to-br from-white/5 to-white/0 border border-white/10 shadow-2xl group-hover:border-blue-500/50 Group-hover:bg-blue-600/20 transition-all duration-500 overflow-hidden group-hover:shadow-[0_0_30px_rgba(37,99,235,0.4)] shrink-0">
                    {/* Inner Glow */}
                    <div className="absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600 hover:opacity-100 transition-all duration-500" />
                    
                    {/* Icon */}
                    <div className="relative z-10 text-blue-400 group-hover:text-white transition-colors duration-300">
                      {feature.icon === 'target' && <Icons.Target size={28} strokeWidth={1.5} />}
                      {feature.icon === 'user-check' && <Icons.UserCheck size={28} strokeWidth={1.5} />}
                      {feature.icon === 'map-pin' && <Icons.MapPin size={28} strokeWidth={1.5} />}
                    </div>
                  </div>
                  <div>
                    <h4 className="text-2xl font-black uppercase italic mb-3 text-gray-100 group-hover:text-white transition-colors">{feature.title}</h4>
                    <p className="text-gray-400 leading-relaxed font-light group-hover:text-gray-300 transition-colors">{feature.description}</p>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  );
};

export default Features;
```

### 5. SportsGrid.tsx (Interactive Grid)
```tsx
import React from 'react';
import { SPORTS } from '../constants';

const SportsGrid: React.FC = () => {
  return (
    <section id="sports" className="py-24 bg-zinc-950">
      <div className="max-w-7xl mx-auto px-6 lg:px-12">
        <div className="flex justify-between items-end mb-12">
          <div>
            <h2 className="text-4xl md:text-6xl font-black italic uppercase tracking-tighter">
              Pick Your <span className="text-blue-600">Arena</span>
            </h2>
          </div>
          <button 
            onClick={() => document.getElementById('waitlist')?.scrollIntoView({ behavior: 'smooth' })}
            className="text-sm font-bold uppercase tracking-widest text-blue-500 hover:text-white transition-colors"
          >
            View All Sports â†’
          </button>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {SPORTS.map((sport) => (
            <div
              key={sport.id}
              className="group relative h-[450px] overflow-hidden rounded-3xl bg-zinc-900 border border-white/5 cursor-pointer"
            >
              <img
                src={sport.image}
                alt={sport.name}
                className="absolute inset-0 w-full h-full object-cover object-top grayscale group-hover:grayscale-0 transition-all duration-700 opacity-60 group-hover:opacity-100"
              />
              <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent" />
              <div className="absolute bottom-0 left-0 p-8 w-full transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                <h3 className="text-3xl font-black italic uppercase tracking-tighter mb-2 group-hover:text-blue-500 transition-colors">
                  {sport.name}
                </h3>
                <p className="text-sm text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  {sport.description}
                </p>
                <div className="mt-4 w-12 h-1 bg-blue-600 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300" />
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default SportsGrid;
```



====================
FILE: frontend\README.md
====================

<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

View your app in AI Studio: https://ai.studio/apps/drive/1cSIHMd8D8Z0hLET4kAcaXnNfWAuOtM97

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`



====================
FILE: frontend\tsconfig.json
====================

{
  "compilerOptions": {
    "target": "ES2022",
    "experimentalDecorators": true,
    "useDefineForClassFields": false,
    "module": "ESNext",
    "lib": [
      "ES2022",
      "DOM",
      "DOM.Iterable"
    ],
    "skipLibCheck": true,
    "types": [
      "node"
    ],
    "moduleResolution": "bundler",
    "isolatedModules": true,
    "moduleDetection": "force",
    "allowJs": true,
    "jsx": "react-jsx",
    "paths": {
      "@/*": [
        "./*"
      ]
    },
    "allowImportingTsExtensions": true,
    "noEmit": true
  }
}


====================
FILE: frontend\types.ts
====================


export interface Feature {
  id: string;
  title: string;
  description: string;
  icon: string;
}

export interface SportCategory {
  id: string;
  name: string;
  image: string;
  description: string;
}

export interface AthleteProfile {
  id: string;
  name: string;
  sport: string;
  rating: number;
  image: string;
  bio: string;
}



====================
FILE: frontend\UPDATE_GOOGLE_SHEET.md
====================

# FINAL FIX: Google Sheet Code

The error happens because the code is cut off at the end.

**PLEASE COPY FROM THE FIRST LINE TO THE LAST LINE BELOW:**

```javascript
var SHEET_NAME = "Sheet1";

function doPost(e) {
  var lock = LockService.getScriptLock();
  lock.tryLock(10000);

  try {
    var doc = SpreadsheetApp.getActiveSpreadsheet();
    var sheet = doc.getSheetByName(SHEET_NAME);

    var email = e.parameter.email;
    var sport = e.parameter.sport; 
    var timestamp = e.parameter.timestamp;

    sheet.appendRow([email, sport, timestamp]);

    return ContentService.createTextOutput(JSON.stringify({ "result": "success" })).setMimeType(ContentService.MimeType.JSON);
  }

  catch (err) {
    return ContentService.createTextOutput(JSON.stringify({ "result": "error", "error": err })).setMimeType(ContentService.MimeType.JSON);
  }

  finally {
    lock.releaseLock();
  }
}
```

### ðŸ‘† IMPORTANT ðŸ‘†
Make sure you copy the final `}` at the very bottom!



====================
FILE: frontend\vite.config.ts
====================

import path from 'path';
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';

import { VitePWA } from 'vite-plugin-pwa';

export default defineConfig(({ mode }) => {
  const env = loadEnv(mode, '.', '');
  return {
    server: {
      port: 3000,
      host: '0.0.0.0',
    },
    plugins: [
      react(),
      VitePWA({
        registerType: 'autoUpdate',
        includeAssets: ['favicon.ico', 'apple-touch-icon.png', 'masked-icon.svg'],
        manifest: {
          name: 'Pickyoursocks',
          short_name: 'Pickyoursocks',
          description: 'Gamified social sports application',
          theme_color: '#000000',
          icons: [
            {
              src: 'pwa-192x192.png',
              sizes: '192x192',
              type: 'image/png'
            },
            {
              src: 'pwa-512x512.png',
              sizes: '512x512',
              type: 'image/png'
            }
          ]
        }
      })
    ],
    define: {
      'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),
      'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)
    },
    resolve: {
      alias: {
        '@': path.resolve(__dirname, '.'),
      }
    }
  };
});



====================
FILE: frontend\components\AuthContext.tsx
====================

import React, {
  createContext,
  useContext,
  useEffect,
  useState,
  ReactNode,
} from 'react';
import { supabase } from '../lib/supabase';

/* =======================
   Types
======================= */

export interface User {
  id: string;
  email: string;

  name?: string;
  username?: string;
  profile_photo?: string;

  sports?: string[];
  region?: string;
  locality?: string;

  dob?: string;
  gender?: string;

  level?: string;
  elo?: number;
  preferred_format?: string;
  experience_years?: number;

  available_days?: string[];
  time_slots?: string[];

  bio?: string;
  achievements?: string[];

  connections?: number;
  reliability_score?: number;
  calibration_games_remaining?: number;
  rating_deviation?: number;
}

interface AuthContextType {
  user: User | null;
  isLoading: boolean;

  login: (email: string, password: string) => Promise<void>;
  signup: (
    userData: Pick<User, 'email' | 'name' | 'sports' | 'reliability_score' | 'calibration_games_remaining' | 'rating_deviation' | 'elo'>,
    password: string
  ) => Promise<void>;
  loginWithGoogle: () => Promise<void>;
  logout: () => Promise<void>;

  updateUser: (updates: Partial<User>) => Promise<void>;
  refreshProfile: () => Promise<void>;
}

/* =======================
   Context
======================= */

const AuthContext = createContext<AuthContextType | undefined>(undefined);

/* =======================
   Provider
======================= */

export const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [isLoading, setIsLoading] = useState(true);

  /* -----------------------
     Fetch profile (WITH TIMEOUT)
  ----------------------- */
  const fetchProfileSafe = async (userId: string) => {
    try {
      // Set a 5 second timeout for profile fetch
      const timeoutPromise = new Promise((_, reject) =>
        setTimeout(() => reject(new Error('Profile fetch timeout')), 5000)
      );

      const fetchPromise = supabase
        .from('profiles')
        .select('*')
        .eq('id', userId)
        .maybeSingle();

      const { data, error } = await Promise.race([
        fetchPromise,
        timeoutPromise,
      ]) as any;

      if (error) {
        console.warn('PROFILE FETCH ERROR:', error.message);
        return null;
      }

      return data;
    } catch (err) {
      console.warn('PROFILE FETCH FAILED (using defaults):', err);
      return null;
    }
  };

  /* -----------------------
     Init Auth (REFRESH SAFE)
  ----------------------- */
  useEffect(() => {
    let mounted = true;

    const init = async () => {
      console.log('AUTH INIT START');

      try {
        // Add timeout to getSession
        const sessionPromise = supabase.auth.getSession();
        const timeoutPromise = new Promise((_, reject) =>
          setTimeout(() => reject(new Error('getSession timeout')), 8000)
        );

        const {
          data: { session },
        } = await Promise.race([sessionPromise, timeoutPromise]) as any;

        if (!mounted) return;

        if (session?.user) {
          const sbUser = session.user;
          console.log('SESSION FOUND:', sbUser.id);

          // âš¡ profile is optional â€” never block auth
          const profile = await fetchProfileSafe(sbUser.id);
          console.log('PROFILE LOADED:', profile ? 'yes' : 'no');

          if (mounted) {
            setUser({
              id: sbUser.id,
              email: sbUser.email!,
              ...(profile || { elo: 1200 }),
            });
          }
        } else {
          console.log('NO SESSION FOUND');
          if (mounted) {
            setUser(null);
          }
        }
      } catch (err) {
        console.error('AUTH INIT FAILED:', err);
        if (mounted) {
          setUser(null);
        }
      } finally {
        if (mounted) {
          console.log('AUTH INIT DONE - LOADING FALSE');
          setIsLoading(false);
        }
      }
    };

    init();

    const {
      data: { subscription },
    } = supabase.auth.onAuthStateChange(async (_event, session) => {
      console.log('AUTH EVENT:', _event);

      if (!mounted) return;

      if (session?.user) {
        const sbUser = session.user;
        const profile = await fetchProfileSafe(sbUser.id);

        if (mounted) {
          setUser({
            id: sbUser.id,
            email: sbUser.email!,
            ...(profile || { elo: 1200 }),
          });
        }
      } else {
        if (mounted) setUser(null);
      }

      setIsLoading(false);
    });

    return () => {
      mounted = false;
      subscription.unsubscribe();
    };
  }, []);

  /* -----------------------
     Email Login
  ----------------------- */
  const login = async (email: string, password: string) => {
    const { error } = await supabase.auth.signInWithPassword({
      email,
      password,
    });
    if (error) throw error;
  };

  /* -----------------------
     Signup
  ----------------------- */
  const signup = async (
    userData: Pick<User, 'email' | 'name' | 'sports' | 'reliability_score' | 'calibration_games_remaining' | 'rating_deviation' | 'elo'>,
    password: string
  ) => {
    const { data, error } = await supabase.auth.signUp({
      email: userData.email,
      password,
      options: {
        data: { name: userData.name },
      },
    });

    if (error) throw error;

    if (data.user) {
      await supabase.from('profiles').upsert({
        id: data.user.id,
        name: userData.name,
        sports: userData.sports ?? [],
        elo: userData.elo ?? 800, // Default to 800 if not provided
        reliability_score: userData.reliability_score ?? 100,
        calibration_games_remaining: userData.calibration_games_remaining ?? 5,
        rating_deviation: userData.rating_deviation ?? 350,
      });
    }
  };

  /* -----------------------
     Google OAuth
  ----------------------- */
  const loginWithGoogle = async () => {
    const { error } = await supabase.auth.signInWithOAuth({
      provider: 'google',
      options: {
        redirectTo: `${window.location.origin}/feed`,
      },
    });
    if (error) throw error;
  };

  /* -----------------------
     Logout
  ----------------------- */
  const logout = async () => {
    await supabase.auth.signOut();
    setUser(null);
  };

  /* -----------------------
     Update Profile
  ----------------------- */
  const updateUser = async (updates: Partial<User>) => {
    if (!user) return;

    const { error } = await supabase
      .from('profiles')
      .update({
        ...updates,
        updated_at: new Date().toISOString(),
      })
      .eq('id', user.id);

    if (error) throw error;

    setUser(prev => (prev ? { ...prev, ...updates } : prev));
  };

  /* -----------------------
     Refresh Profile
  ----------------------- */
  const refreshProfile = async () => {
    if (!user) return;

    const profile = await fetchProfileSafe(user.id);

    if (profile) {
      setUser(prev => (prev ? { ...prev, ...profile } : prev));
    }
  };

  return (
    <AuthContext.Provider
      value={{
        user,
        isLoading,
        login,
        signup,
        loginWithGoogle,
        logout,
        updateUser,
        refreshProfile,
      }}
    >
      {children}
    </AuthContext.Provider>
  );
};

/* =======================
   Hook
======================= */

export const useAuth = () => {
  const ctx = useContext(AuthContext);
  if (!ctx) {
    throw new Error('useAuth must be used within AuthProvider');
  }
  return ctx;
};



====================
FILE: frontend\components\Community.tsx
====================

import React from 'react';
import { ATHLETES } from '../constants';

const Community: React.FC = () => {
  return (
    <section id="community" className="py-24 bg-black relative">
      <div className="max-w-7xl mx-auto px-6 lg:px-12">
        <div className="text-center mb-16">
          <h2 className="text-blue-500 font-bold uppercase tracking-widest mb-4">Precision Scouting</h2>
          <h3 className="text-4xl md:text-6xl font-black italic uppercase tracking-tighter leading-none">
            Treating amateur <span className="text-transparent bg-clip-text bg-gradient-to-r from-gray-500 to-white">talent</span> with <br />
            professional-grade <span className="text-blue-600">precision</span>.
          </h3>
        </div>



        <div className="mt-20 p-12 bg-zinc-900 border border-white/5 rounded-[3rem] relative overflow-hidden">
          <div className="absolute top-0 right-0 w-64 h-64 bg-blue-600/20 blur-[100px] -mr-32 -mt-32" />
          <div className="flex flex-col md:flex-row items-center justify-between gap-8 relative z-10">
            <div>
              <h4 className="text-3xl font-black italic uppercase tracking-tighter mb-2">Ready to Scout?</h4>
              <p className="text-gray-400">Join 500+ clubs hiring through PickYourSocks.</p>
            </div>
            <button
              onClick={() => document.getElementById('waitlist')?.scrollIntoView({ behavior: 'smooth' })}
              className="bg-blue-600 hover:bg-blue-700 text-white font-black uppercase tracking-widest px-12 py-5 rounded-full transition-all shadow-xl shadow-blue-600/20 transform hover:-translate-y-1"
            >
              Hire Talent
            </button>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Community;



====================
FILE: frontend\components\CreatePostModal.tsx
====================

import { X } from 'lucide-react';
import { useState } from 'react';
import { uploadPostMedia } from '../lib/r2';
import { supabase } from '../lib/supabase';
import { useAuth } from './AuthContext';
import { SPORTS } from '../constants';

const CreatePostModal = ({ onClose }: { onClose: () => void }) => {
  const { user } = useAuth();

  if (!user) return null;

  const [caption, setCaption] = useState('');
  const [file, setFile] = useState<File | null>(null);
  const [loading, setLoading] = useState(false);

  const [sport, setSport] = useState<string>('');
  const [customSport, setCustomSport] = useState('');

  const finalSport =
    sport === 'other'
      ? customSport.trim().toLowerCase()
      : sport;

const handlePost = async () => {
  if (!finalSport) {
    alert('Please select or enter a sport');
    return;
  }

  if (loading) return;

  setLoading(true);

  let cancelled = false;

  // â± HARD TIMEOUT (prevents infinite hang)
  const timeout = setTimeout(() => {
    cancelled = true;
    setLoading(false);
    alert('Post timed out. Please try again.');
  }, 15000); // 15 seconds max

  try {
    let media_url: string | null = null;
    let media_type: 'text' | 'image' | 'video' = 'text';

    // 1ï¸âƒ£ Upload media
    if (file) {
      media_url = await uploadPostMedia(file, user.id);
      media_type = file.type.startsWith('video') ? 'video' : 'image';
    }

    if (cancelled) return;

    // 2ï¸âƒ£ Insert post (FORCE RESPONSE)
    const { data, error } = await supabase
      .from('posts')
      .insert({
        user_id: user.id,
        caption,
        sport: finalSport,
        media_url,
        media_type,
      })
      .select()
      .single();

    if (cancelled) return;
    if (error) throw error;

    console.log('Post created:', data);

    // 3ï¸âƒ£ RESET STATE FIRST
    setLoading(false);
    clearTimeout(timeout);

    // 4ï¸âƒ£ THEN CLOSE MODAL
    onClose();

  } catch (err) {
    console.error('Post failed:', err);
    clearTimeout(timeout);
    setLoading(false);
    alert('Failed to create post');
  }
};



  return (
    <div className="fixed inset-0 bg-black/70 z-50 flex items-center justify-center">
      <div className="bg-zinc-900 w-full max-w-md rounded-2xl p-6 relative">

        {/* CLOSE */}
        <button
          onClick={onClose}
          className="absolute top-4 right-4 text-gray-400 hover:text-white"
        >
          <X />
        </button>

        <h2 className="text-lg font-bold mb-4">Create Post</h2>

        {/* CAPTION */}
        <textarea
          value={caption}
          onChange={e => setCaption(e.target.value)}
          placeholder="Whatâ€™s on your mind?"
          className="w-full bg-zinc-800 p-3 rounded-lg mb-3 text-sm"
          rows={3}
        />

        {/* SPORT */}
        <select
          value={sport}
          onChange={e => setSport(e.target.value)}
          className="w-full bg-zinc-800 p-2 rounded-lg mb-3 text-sm"
        >
          <option value="" disabled>
            Select sport
          </option>

          {user.sports?.map(sid => {
            const s = SPORTS.find(x => x.id === sid);
            return (
              <option key={sid} value={sid}>
                {s?.name ?? sid}
              </option>
            );
          })}

          <option value="other">Other</option>
        </select>

        {sport === 'other' && (
          <input
            type="text"
            placeholder="Enter sport name"
            value={customSport}
            onChange={e => setCustomSport(e.target.value)}
            className="w-full bg-zinc-800 p-2 rounded-lg mb-3 text-sm"
          />
        )}

        {/* MEDIA */}
        <input
          type="file"
          accept="image/*,video/*"
          onChange={e => setFile(e.target.files?.[0] || null)}
          className="mb-4 text-sm"
        />

        {/* SUBMIT */}
        <button
          onClick={handlePost}
          disabled={loading}
          className="w-full bg-blue-600 py-2 rounded-lg font-bold disabled:opacity-50"
        >
          {loading ? 'Postingâ€¦' : 'Post'}
        </button>
      </div>
    </div>
  );
};

export default CreatePostModal;



====================
FILE: frontend\components\ErrorState.tsx
====================

import React from 'react';
import { AlertTriangle, RefreshCw } from 'lucide-react';

interface ErrorStateProps {
    title?: string;
    message?: string;
    onRetry?: () => void;
}

const ErrorState: React.FC<ErrorStateProps> = ({
    title = "Connection Interrupted",
    message = "We couldn't retrieve the latest data. Please check your connection and try again.",
    onRetry
}) => {
    return (
        <div className="flex flex-col items-center justify-center p-8 text-center bg-zinc-900/30 border border-red-500/10 rounded-3xl animate-enter">
            <div className="w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20">
                <AlertTriangle className="text-red-500" size={32} />
            </div>

            <h3 className="text-xl font-bold text-white mb-2">{title}</h3>
            <p className="text-gray-400 max-w-sm mb-6 text-sm leading-relaxed">
                {message}
            </p>

            {onRetry && (
                <button
                    onClick={onRetry}
                    className="flex items-center gap-2 px-6 py-3 bg-white text-black font-bold uppercase tracking-wider text-xs rounded-xl hover:bg-gray-200 transition-colors"
                >
                    <RefreshCw size={14} />
                    Retry Connection
                </button>
            )}
        </div>
    );
};

export default ErrorState;



====================
FILE: frontend\components\Features.tsx
====================


import React from 'react';
import { FEATURES } from '../constants';
import * as Icons from 'lucide-react';

const Features: React.FC = () => {
    return (
        <section id="how-it-works" className="py-24 bg-black relative overflow-hidden">
            {/* Background Gradients */}
            <div className="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                <div className="absolute top-1/4 left-0 w-[500px] h-[500px] bg-blue-900/10 rounded-full blur-[128px]" />
                <div className="absolute bottom-1/4 right-0 w-[500px] h-[500px] bg-indigo-900/10 rounded-full blur-[128px]" />
            </div>

            <div className="max-w-7xl mx-auto px-6 lg:px-12 relative z-10">
                <div className="flex flex-col lg:flex-row gap-16 items-center">
                    <div className="lg:w-1/2">
                        <h2 className="text-blue-500 font-bold uppercase tracking-widest mb-4">The New Standard</h2>
                        <h3 className="text-4xl md:text-7xl font-black italic uppercase tracking-tighter leading-tight mb-8">
                            Bridges the Gap Between <br />
                            <span className="text-white/20">Playing</span> and <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500 pr-12">Competing</span>
                        </h3>
                        <p className="text-xl md:text-2xl text-gray-300 mb-12 leading-relaxed font-light drop-shadow-lg">
                            Less planning. More playing. Build your digital sports profile while connecting with athletes like you.
                        </p>
                    </div>

                    <div className="lg:w-1/2 grid grid-cols-1 gap-6">
                        {FEATURES.map((feature, idx) => (
                            <div key={feature.id} className="group relative p-8 bg-white/5 border border-white/10 rounded-3xl hover:bg-white/10 transition-all duration-500 transform hover:-translate-y-2 overflow-hidden hover:border-white/20 hover:shadow-2xl hover:shadow-blue-900/20">

                                {/* Hover Glow Effect */}
                                <div className="absolute inset-0 bg-gradient-to-r from-blue-600/0 via-blue-600/5 to-purple-600/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 ease-in-out" />

                                <div className="flex items-start gap-6 relative z-10">
                                    <div className="relative w-20 h-20 rounded-2xl flex items-center justify-center bg-gradient-to-br from-white/5 to-white/0 border border-white/10 shadow-2xl group-hover:border-blue-500/50 Group-hover:bg-blue-600/20 transition-all duration-500 overflow-hidden group-hover:shadow-[0_0_30px_rgba(37,99,235,0.4)] shrink-0">
                                        {/* Inner Glow */}
                                        <div className="absolute inset-0 bg-blue-600/0 group-hover:bg-blue-600 hover:opacity-100 transition-all duration-500" />

                                        {/* Icon */}
                                        <div className="relative z-10 text-blue-400 group-hover:text-white transition-colors duration-300">
                                            {feature.icon === 'target' && <Icons.Target size={28} strokeWidth={1.5} />}
                                            {feature.icon === 'user-check' && <Icons.UserCheck size={28} strokeWidth={1.5} />}
                                            {feature.icon === 'map-pin' && <Icons.MapPin size={28} strokeWidth={1.5} />}
                                        </div>
                                    </div>
                                    <div>
                                        <h4 className="text-2xl font-black uppercase italic mb-3 text-gray-100 group-hover:text-white transition-colors">{feature.title}</h4>
                                        <p className="text-gray-400 leading-relaxed font-light group-hover:text-gray-300 transition-colors">{feature.description}</p>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            </div>
        </section>
    );
};

export default Features;



====================
FILE: frontend\components\Footer.tsx
====================


import React from 'react';
import { Link } from 'react-router-dom';

const Footer: React.FC = () => {
  return (
    <footer className="py-12 bg-black border-t border-white/5">
      <div className="max-w-7xl mx-auto px-6 lg:px-12">
        <div className="flex flex-col md:flex-row justify-between items-center gap-8 mb-12">
          <div className="flex items-center gap-2">
            <div className="w-8 h-8 bg-blue-600 rounded-sm flex items-center justify-center font-black text-white italic">P</div>
            <span className="text-xl font-black tracking-tighter uppercase italic">PickYourSocks</span>
          </div>

          <div className="flex gap-8 text-xs font-bold uppercase tracking-widest text-gray-500">
            <Link to="/privacy" className="hover:text-blue-500 transition-colors">Privacy Policy</Link>
            <Link to="/terms" className="hover:text-blue-500 transition-colors">Terms of Service</Link>
            <a href="mailto:rohanmanerkar1@gmail.com" className="hover:text-blue-500 transition-colors">Contact</a>
          </div>

          <div className="flex gap-4">
            {['Twitter', 'Instagram', 'LinkedIn'].map((platform) => (
              <a
                key={platform}
                href="#"
                className="w-10 h-10 bg-white/5 border border-white/10 rounded-full flex items-center justify-center text-gray-400 hover:bg-blue-600 hover:text-white transition-all"
              >
                <span className="sr-only">{platform}</span>
                <div className="w-4 h-4 rounded-full bg-current" />
              </a>
            ))}
          </div>
        </div>

        <div className="text-center text-[10px] font-bold uppercase tracking-[0.3em] text-gray-700">
          Â© 2024 PICKYOURSOCKS DIGITAL ECOSYSTEM. ALL PERFORMANCE GUARANTEED.
        </div>
      </div>
    </footer>
  );
};

export default Footer;



====================
FILE: frontend\components\Hero.tsx
====================

import React from 'react';

const Hero: React.FC = () => {
  return (
    <section className="relative w-full h-screen">
      <div className="sticky top-0 h-screen w-full overflow-hidden">
        {/* Background Image */}
        <div className="absolute inset-0 z-0">
          <img
            src="/Pushups.jpeg"
            alt="Athlete doing pushups"
            className="w-full h-full object-cover opacity-90"
          />
          {/* Overlay gradient for text readability */}
          <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent" />
        </div>

        {/* Overlay Content */}
        <div className="absolute inset-0 flex flex-col justify-center px-6 lg:px-12 pointer-events-none z-10">
          <div className="max-w-7xl mx-auto w-full">
            <div className="max-w-3xl translate-y-[5vh]">
              <p className="text-blue-400 font-bold uppercase tracking-[0.3em] mb-4 animate-fade-in opacity-0" style={{ animation: 'fadeIn 1s forwards' }}>
                Skill-Rated Matchmaking
              </p>
              <h1 className="text-6xl md:text-9xl font-black italic uppercase tracking-tighter leading-[0.85] mb-8 text-white drop-shadow-2xl">
                Find Your <br />
                <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600 pr-4">Competition</span>
              </h1>
              <p className="text-xl md:text-2xl text-gray-300 mb-12 max-w-xl leading-relaxed font-light drop-shadow-lg">
                The first skill-rated platform for amateur sports. Find worthy rivals, book courts instantly, and build your verified athletic career.
              </p>
              <div className="flex flex-wrap gap-6 pointer-events-auto">
                <a
                  href="#waitlist"
                  onClick={(e) => {
                    e.preventDefault();
                    document.getElementById('waitlist')?.scrollIntoView({ behavior: 'smooth' });
                  }}
                  className="group relative px-8 py-4 bg-white text-black rounded-full font-black uppercase tracking-widest transition-all transform hover:scale-105 active:scale-95 overflow-hidden"
                >
                  <span className="relative z-10 group-hover:text-blue-600 transition-colors">Join the Community</span>
                  <div className="absolute inset-0 bg-blue-50 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300" />
                </a>

              </div>
            </div>
          </div>
        </div>
      </div>

      <style>{`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}</style>
    </section>
  );
};

export default Hero;



====================
FILE: frontend\components\MatchResultModal.tsx
====================

import React, { useState } from 'react';
import { X, Trophy, Frown, Save } from 'lucide-react';

interface MatchResultModalProps {
    isOpen: boolean;
    onClose: () => void;
    onSubmit: (score: string) => Promise<void>;
    resultType: 'win' | 'loss' | null;
    opponentName: string;
}

const MatchResultModal: React.FC<MatchResultModalProps> = ({
    isOpen,
    onClose,
    onSubmit,
    resultType,
    opponentName
}) => {
    const [score, setScore] = useState('');
    const [isSubmitting, setIsSubmitting] = useState(false);

    if (!isOpen || !resultType) return null;

    const handleSubmit = async () => {
        if (!score.trim()) return;
        setIsSubmitting(true);
        await onSubmit(score);
        setIsSubmitting(false);
        onClose();
    };

    const isWin = resultType === 'win';

    return (
        <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
            <div className="bg-zinc-900 border border-white/10 rounded-3xl w-full max-w-sm overflow-hidden relative shadow-2xl animate-in fade-in zoom-in duration-200">

                {/* Header */}
                <div className={`p-6 text-center ${isWin ? 'bg-gradient-to-b from-green-500/20 to-transparent' : 'bg-gradient-to-b from-red-500/20 to-transparent'}`}>
                    <button
                        onClick={onClose}
                        className="absolute top-4 right-4 text-gray-500 hover:text-white transition-colors"
                    >
                        <X size={20} />
                    </button>

                    <div className={`mx-auto w-16 h-16 rounded-full flex items-center justify-center mb-4 ${isWin ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}`}>
                        {isWin ? <Trophy size={32} /> : <Frown size={32} />}
                    </div>

                    <h3 className="text-2xl font-black italic uppercase tracking-tighter text-white">
                        {isWin ? 'Victory!' : 'Defeat'}
                    </h3>
                    <p className="text-gray-400 text-sm mt-1">
                        Against <span className="text-white font-bold">{opponentName}</span>
                    </p>
                </div>

                {/* content */}
                <div className="p-6 pt-0 space-y-4">
                    <div>
                        <label className="block text-xs font-bold text-gray-500 uppercase tracking-widest mb-2">
                            Match Score
                        </label>
                        <input
                            type="text"
                            placeholder="e.g. 21-19, 21-15"
                            value={score}
                            onChange={(e) => setScore(e.target.value)}
                            className="w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white font-bold placeholder:text-gray-600 focus:border-blue-500 outline-none transition-colors"
                            autoFocus
                        />
                    </div>

                    <button
                        onClick={handleSubmit}
                        disabled={!score.trim() || isSubmitting}
                        className={`w-full py-4 rounded-xl font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-all hover:scale-[1.02] active:scale-[0.98] ${isWin
                                ? 'bg-green-500 hover:bg-green-400 text-black shadow-lg shadow-green-500/20'
                                : 'bg-red-500 hover:bg-red-400 text-black shadow-lg shadow-red-500/20'
                            } disabled:opacity-50 disabled:scale-100 disabled:cursor-not-allowed`}
                    >
                        {isSubmitting ? (
                            <span className="animate-pulse">Saving...</span>
                        ) : (
                            <>
                                <Save size={18} /> Confirm Report
                            </>
                        )}
                    </button>
                </div>

            </div>
        </div>
    );
};

export default MatchResultModal;



====================
FILE: frontend\components\MatchTicker.tsx
====================

import React, { useRef, useEffect } from 'react';
import { ThumbsUp } from 'lucide-react';
import { MatchResult } from '../constants';

interface MatchTickerProps {
    results: MatchResult[];
}

const MatchTicker: React.FC<MatchTickerProps> = ({ results }) => {
    const scrollRef = useRef<HTMLDivElement>(null);

    if (!results || results.length === 0) return null;

    return (
        <div className="fixed bottom-0 left-0 right-0 bg-zinc-950 border-t border-white/10 py-3 z-50">
            <div className="max-w-7xl mx-auto px-4 flex items-center gap-4 overflow-hidden relative">
                <div className="bg-blue-600 px-2 py-1 text-xs font-black uppercase tracking-tighter text-white whitespace-nowrap rounded">
                    Live Results
                </div>

                {/* Mask fades */}
                <div className="absolute left-[100px] top-0 bottom-0 w-8 bg-gradient-to-r from-zinc-950 to-transparent z-10" />
                <div className="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-zinc-950 to-transparent z-10" />

                <div className="flex gap-12 animate-marquee whitespace-nowrap pl-4">
                    {[...results, ...results, ...results].map((result, index) => (
                        <div key={`${result.id}-${index}`} className="flex items-center gap-4 text-sm font-medium text-gray-400">
                            <span className="text-white font-bold">
                                {result.winner} <span className="text-xs text-gray-500">({result.winnerElo})</span>
                            </span>
                            <span className="text-xs uppercase tracking-wider text-green-500 font-bold">def.</span>
                            <span className="text-gray-300">
                                {result.loser} <span className="text-xs text-gray-500">({result.loserElo})</span>
                            </span>
                            <span className="text-green-400 text-xs font-mono">+{result.eloChange} ELO</span>
                            <span className="text-xs text-gray-600">| {result.score}</span>

                            <button className="p-1 hover:text-white transition-colors hover:bg-white/10 rounded-full">
                                <ThumbsUp size={12} />
                            </button>
                        </div>
                    ))}
                </div>
            </div>

            <style>{`
        @keyframes marquee {
          0% { transform: translateX(0); }
          100% { transform: translateX(-50%); }
        }
        .animate-marquee {
          animation: marquee 40s linear infinite;
        }
        .animate-marquee:hover {
          animation-play-state: paused;
        }
      `}</style>
        </div>
    );
};

export default MatchTicker;



====================
FILE: frontend\components\Navbar.tsx
====================

import React, { useState, useEffect } from 'react';
import {
  Search,
  Home,
  Radio,
  Trophy,
  User,
  ChevronDown,
  PlusSquare,
} from 'lucide-react';
import { Link, useNavigate, useLocation } from 'react-router-dom';

import { useAuth } from './AuthContext';
import CreatePostModal from './CreatePostModal';
import { supabase } from '../lib/supabase';

const Navbar: React.FC = () => {
  const [scrolled, setScrolled] = useState(false);
  const [openPost, setOpenPost] = useState(false);

  // Search State
  const [isSearchOpen, setIsSearchOpen] = useState(false);
  const [searchQuery, setSearchQuery] = useState('');
  const [searchResults, setSearchResults] = useState<any[]>([]);

  const { user } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const handleSearch = async (query: string) => {
    setSearchQuery(query);
    if (query.length < 2) {
      setSearchResults([]);
      return;
    }

    const { data } = await supabase
      .from('profiles')
      .select('id, name, username, profile_photo')
      .ilike('username', `%${query}%`)
      .limit(5);

    setSearchResults(data || []);
  };

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const isActive = (path: string) => location.pathname === path;

  /* ======================
     Reusable Nav Item
  ====================== */
  const NavItem = ({
    title,
    to,
    children,
  }: {
    title: string;
    to?: string;
    children?: React.ReactNode;
  }) => (
    <div className="group relative h-full flex items-center">
      <Link
        to={to || '#'}
        className="text-[13px] font-bold uppercase tracking-widest text-gray-300 hover:text-white transition-colors flex items-center gap-1 py-4 px-3"
      >
        {title}
        {children && (
          <ChevronDown
            size={10}
            className="text-gray-500 group-hover:text-white transition-colors"
          />
        )}
      </Link>

      {children && (
        <div className="absolute top-full left-1/2 -translate-x-1/2 pt-2 opacity-0 -translate-y-5 pointer-events-none transition-all duration-300 ease-in-out group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto">
          <div
            className={`w-48 rounded-xl border border-white/10 overflow-hidden shadow-2xl ${scrolled ? 'bg-black/95' : 'bg-blue-600'
              }`}
          >
            <div className="py-2 flex flex-col">{children}</div>
          </div>
        </div>
      )}
    </div>
  );

  return (
    <>
      {/* ======================
          Desktop Top Navigation
      ====================== */}
      <nav
        className={`fixed top-0 left-1/2 -translate-x-1/2 z-50 transition-[max-width,background-color,border-radius,padding] duration-500 linear hidden lg:flex items-center justify-between w-full ${scrolled
          ? 'max-w-full px-6 lg:px-12 py-4 bg-black/95 backdrop-blur-md border-b border-white/10 rounded-none shadow-lg'
          : 'max-w-[76.25rem] px-8 py-4 bg-blue-600 rounded-b-3xl shadow-[0_10px_40px_-10px_rgba(37,99,235,0.5)]'
          }`}
      >
        {/* LEFT SECTION */}
        <div className="flex items-center gap-8">
          <Link to={user ? '/feed' : '/'} className="flex items-center gap-2 group">
            <div className="w-8 h-8 bg-white text-blue-600 rounded-sm flex items-center justify-center font-black italic shadow-lg group-hover:scale-105 transition-transform">
              P
            </div>
            <span className="text-xl font-black tracking-tighter uppercase italic text-white group-hover:opacity-90 transition-opacity">
              Pickyoursocks
            </span>
          </Link>

          <div className="flex items-center gap-1 border-l border-white/10 pl-8 h-8">
            <NavItem title="Feed" to="/feed" />
            <NavItem title="Radar" to="/radar" />
            <NavItem title="Ranking" to="/rankings" />
          </div>
        </div>

        {/* RIGHT SECTION */}
        <div className="flex items-center gap-6">

          {/* SEARCH COMPONENT */}
          <div className="relative group">
            <div className={`flex items-center rounded-full transition-all duration-300 ease-out ${isSearchOpen ? 'w-64 px-3 py-2 bg-zinc-900 border border-white/10 shadow-lg' : 'w-8 h-8 justify-center cursor-pointer bg-transparent hover:bg-white/5'
              }`}>
              <Search
                size={isSearchOpen ? 16 : 18}
                className={`transition-colors duration-300 ${isSearchOpen ? 'text-blue-500' : 'text-white/40 group-hover:text-white'}`}
                onClick={() => {
                  if (!isSearchOpen) setIsSearchOpen(true);
                }}
              />
              {isSearchOpen && (
                <input
                  autoFocus
                  className="bg-transparent border-none outline-none text-sm text-white ml-3 w-full placeholder-gray-600 font-medium"
                  placeholder="Search users..."
                  value={searchQuery}
                  onChange={(e) => handleSearch(e.target.value)}
                  onBlur={() => {
                    // Delay hiding to allow clicking results
                    setTimeout(() => {
                      setIsSearchOpen(false);
                      setSearchResults([]);
                      setSearchQuery('');
                    }, 200);
                  }}
                />
              )}
            </div>

            {/* Results Dropdown */}
            {isSearchOpen && searchResults.length > 0 && (
              <div className="absolute top-full right-0 mt-2 w-64 bg-zinc-900 border border-white/10 rounded-xl shadow-2xl overflow-hidden z-[100]">
                {searchResults.map((result: any) => (
                  <div
                    key={result.id}
                    onClick={() => {
                      navigate(`/profile/${result.id}`);
                      setIsSearchOpen(false);
                      setSearchResults([]);
                    }}
                    className="flex items-center gap-3 px-4 py-3 hover:bg-white/5 cursor-pointer transition-colors"
                  >
                    <div className="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-xs font-bold text-white">
                      {result.name?.[0]?.toUpperCase() || 'U'}
                    </div>
                    <div>
                      <p className="text-sm font-bold text-white">{result.name}</p>
                      <p className="text-xs text-gray-500">@{result.username}</p>
                    </div>
                  </div>
                ))}
              </div>
            )}
          </div>

          {user && (
            <button
              onClick={() => setOpenPost(true)}
              className="flex items-center gap-2 bg-white text-blue-600 text-xs font-black uppercase tracking-widest px-4 py-2 rounded-full hover:bg-gray-100 transition-colors"
            >
              <PlusSquare size={14} />
              Post
            </button>
          )}

          {user ? (
            <Link
              to="/profile"
              className="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-xs font-bold text-white hover:bg-blue-400 shadow-lg shadow-blue-500/20"
            >
              {user.name?.[0].toUpperCase() || 'U'}
            </Link>
          ) : (
            <div className="flex items-center gap-4">
              <Link
                to="/auth?mode=login"
                className="text-xs font-bold uppercase tracking-widest text-white hover:text-blue-200 transition"
              >
                Login
              </Link>
              <Link
                to="/auth?mode=signup"
                className="bg-white text-blue-600 text-xs font-black uppercase tracking-widest px-5 py-2 rounded-full hover:bg-gray-100 transition-colors"
              >
                Sign Up
              </Link>
            </div>
          )}
        </div>
      </nav>

      {/* ======================
          Mobile Top Bar
      ====================== */}
      <div className="lg:hidden fixed top-0 w-full z-40 bg-black/95 border-b border-white/10 px-4 py-3 flex items-center justify-between">
        <Link
          to="/"
          className="w-8 h-8 bg-white text-blue-600 rounded flex items-center justify-center font-black italic"
        >
          P
        </Link>
        <span className="text-white font-black italic uppercase tracking-tighter">
          Pickyoursocks
        </span>
        {user ? (
          <Link
            to="/profile"
            className="w-8 h-8 rounded-full bg-blue-600 flex items-center justify-center text-xs font-bold text-white"
          >
            {user.name?.[0].toUpperCase()}
          </Link>
        ) : (
          <Link
            to="/auth?mode=login"
            className="text-xs font-bold uppercase text-white"
          >
            Login
          </Link>
        )}
      </div>

      {/* ======================
          Mobile Bottom Nav
      ====================== */}
      <div className="lg:hidden fixed bottom-4 left-4 right-4 z-50">
        <div className="bg-zinc-900/90 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl flex items-center justify-around px-6 py-4">
          <Link
            to="/"
            className={`flex flex-col items-center gap-1 ${isActive('/') ? 'text-blue-500' : 'text-gray-500'
              }`}
          >
            <Home size={20} />
            {isActive('/') && (
              <span className="w-1 h-1 rounded-full bg-blue-500"></span>
            )}
          </Link>

          <Link
            to="/feed"
            className={`flex flex-col items-center gap-1 ${isActive('/feed') ? 'text-blue-500' : 'text-gray-500'
              }`}
          >
            <Radio size={20} />
            {isActive('/feed') && (
              <span className="w-1 h-1 rounded-full bg-blue-500"></span>
            )}
          </Link>

          {user && (
            <button
              onClick={() => setOpenPost(true)}
              className="flex flex-col items-center gap-1 text-blue-500"
            >
              <PlusSquare size={22} />
              <span className="w-1 h-1 rounded-full bg-blue-500"></span>
            </button>
          )}

          <Link
            to="/rankings"
            className={`flex flex-col items-center gap-1 ${isActive('/rankings') ? 'text-blue-500' : 'text-gray-500'
              }`}
          >
            <Trophy size={20} />
            {isActive('/rankings') && (
              <span className="w-1 h-1 rounded-full bg-blue-500"></span>
            )}
          </Link>

          <Link
            to="/profile"
            className={`flex flex-col items-center gap-1 ${isActive('/profile') ? 'text-blue-500' : 'text-gray-500'
              }`}
          >
            <User size={20} />
            {isActive('/profile') && (
              <span className="w-1 h-1 rounded-full bg-blue-500"></span>
            )}
          </Link>
        </div>
      </div>

      {/* ======================
          Create Post Modal
      ====================== */}
      {openPost && <CreatePostModal onClose={() => setOpenPost(false)} />}
    </>
  );
};

export default Navbar;



====================
FILE: frontend\components\NotificationContext.tsx
====================

import React, { createContext, useContext, useState, useCallback, ReactNode } from 'react';

type NotificationType = 'success' | 'error' | 'info';

interface Notification {
    id: number;
    message: string;
    type: NotificationType;
}

interface NotificationContextType {
    showNotification: (message: string, type?: NotificationType) => void;
    notifications: Notification[];
    removeNotification: (id: number) => void;
}

const NotificationContext = createContext<NotificationContextType | undefined>(undefined);

export const useNotification = () => {
    const context = useContext(NotificationContext);
    if (!context) {
        throw new Error('useNotification must be used within a NotificationProvider');
    }
    return context;
};

export const NotificationProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
    const [notifications, setNotifications] = useState<Notification[]>([]);

    const removeNotification = useCallback((id: number) => {
        setNotifications((prev) => prev.filter((n) => n.id !== id));
    }, []);

    const showNotification = useCallback((message: string, type: NotificationType = 'info') => {
        const id = Date.now();
        setNotifications((prev) => [...prev, { id, message, type }]);

        // Auto-remove after 4 seconds
        setTimeout(() => {
            removeNotification(id);
        }, 4000);
    }, [removeNotification]);

    return (
        <NotificationContext.Provider value={{ showNotification, notifications, removeNotification }}>
            {children}
            <div className="fixed bottom-6 right-6 z-[9999] flex flex-col gap-3 pointer-events-none">
                {notifications.map((n) => (
                    <NotificationItem key={n.id} notification={n} onDismiss={() => removeNotification(n.id)} />
                ))}
            </div>
        </NotificationContext.Provider>
    );
};

import { CheckCircle, AlertCircle, Info, X } from 'lucide-react';

const NotificationItem: React.FC<{ notification: Notification; onDismiss: () => void }> = ({ notification, onDismiss }) => {
    const { message, type } = notification;

    const styles = {
        success: 'border-green-500/50 bg-green-500/10 text-green-400',
        error: 'border-red-500/50 bg-red-500/10 text-red-500',
        info: 'border-blue-500/50 bg-blue-500/10 text-blue-400',
    };

    const Icon = type === 'success' ? CheckCircle : type === 'error' ? AlertCircle : Info;

    return (
        <div className={`pointer-events-auto flex items-center gap-4 px-6 py-4 rounded-2xl border backdrop-blur-xl shadow-2xl animate-in slide-in-from-right-full duration-300 ${styles[type]}`}>
            <Icon size={20} />
            <p className="text-sm font-bold tracking-tight">{message}</p>
            <button onClick={onDismiss} className="ml-2 hover:opacity-70 transition-opacity">
                <X size={16} />
            </button>
        </div>
    );
};



====================
FILE: frontend\components\PeopleNearYou.tsx
====================

import React, { useState, useEffect } from 'react';
import { MapPin } from 'lucide-react';
import { api } from '../services/api';
import { NearbyUser } from '../constants';
import ErrorState from '../components/ErrorState';

const PeopleNearYou: React.FC = () => {
    const [users, setUsers] = useState<NearbyUser[]>([]);
    const [isLoading, setIsLoading] = useState(true);
    const [error, setError] = useState<string | null>(null);

    const fetchUsers = async () => {
        setIsLoading(true);
        setError(null);
        try {
            const data = await api.getNearbyUsers();
            setUsers(data);
        } catch (error) {
            console.error("Failed to fetch nearby users:", error);
            setError("Failed to find athletes nearby.");
        } finally {
            setIsLoading(false);
        }
    };

    useEffect(() => {
        fetchUsers();
    }, []);

    return (
        <div className="bg-zinc-900/50 p-6 rounded-3xl border border-white/5 hover:border-white/10 transition-colors">
            <h2 className="text-3xl font-black italic uppercase tracking-tighter text-white mb-8">
                People <br /> Near <span className="text-blue-600">You</span>
            </h2>

            {error ? (
                <ErrorState onRetry={fetchUsers} message="Could not scan for nearby athletes." />
            ) : isLoading ? (
                <div className="flex flex-col gap-4 animate-pulse">
                    {[1, 2, 3].map((i) => (
                        <div key={i} className="flex items-center gap-4 py-2 border-b border-white/5">
                            <div className="w-12 h-12 bg-zinc-800 rounded-xl"></div>
                            <div className="flex-1 space-y-2">
                                <div className="h-3 bg-zinc-800 rounded w-1/3"></div>
                                <div className="h-5 bg-zinc-800 rounded w-2/3"></div>
                            </div>
                        </div>
                    ))}
                </div>
            ) : users.length > 0 ? (
                <>
                    <div className="flex flex-col gap-0">
                        {users.map((user) => (
                            <div key={user.id} className="group flex items-center gap-4 py-4 border-b border-white/5 hover:bg-white/5 transition-colors cursor-pointer first:border-t">
                                {/* Rank Number Box */}
                                <div className="flex-shrink-0 w-12 h-12 bg-blue-600 rounded-xl text-white font-black text-2xl flex items-center justify-center transform -rotate-3 transition-transform group-hover:rotate-0">
                                    <span>{user.rank}</span>
                                </div>

                                {/* Content */}
                                <div className="flex-grow">
                                    <h4 className="text-[10px] font-bold text-blue-400 uppercase tracking-widest mb-0.5">
                                        {user.sport}
                                    </h4>
                                    <h3 className="text-lg font-black italic uppercase tracking-tight text-white group-hover:text-blue-500 transition-colors leading-none mb-1">
                                        {user.name}
                                    </h3>
                                    <div className="flex items-center gap-1 text-xs text-gray-500 font-medium">
                                        <MapPin size={10} />
                                        {user.distance} AWAY
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>

                    <button className="w-full mt-6 py-4 bg-zinc-800 rounded-2xl text-gray-300 font-bold uppercase tracking-widest text-xs hover:bg-blue-600 hover:text-white transition-all">
                        View All Athletes
                    </button>
                </>
            ) : (
                <div className="py-8 text-center">
                    <div className="w-12 h-12 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-3">
                        <MapPin className="text-gray-600" size={20} />
                    </div>
                    <p className="text-gray-400 font-medium mb-4">No athletes detected nearby yet.</p>
                    <button className="text-blue-500 text-xs font-bold uppercase tracking-widest hover:text-white transition-colors">
                        + Invite Friends
                    </button>
                </div>
            )}
        </div>
    );
};

export default PeopleNearYou;



====================
FILE: frontend\components\PlayerCard.tsx
====================

import React from 'react';
import { TrendingUp, Award, Zap } from 'lucide-react';

interface PlayerCardProps {
    elo: number;
    rankGap: number;
    trend: string;
}

const PlayerCard: React.FC<PlayerCardProps> = ({ elo, rankGap, trend }) => {
    return (
        <div className="sticky top-20 z-40 mb-8 transform hover:scale-[1.01] transition-all duration-300">
            <div className="relative overflow-hidden rounded-2xl bg-zinc-900/80 backdrop-blur-xl border border-white/10 shadow-2xl">
                {/* Holographic Gradient Overlay */}
                <div className="absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-blue-500/10 animate-gradient-x" />

                {/* Scanline Effect */}
                <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20" />

                <div className="relative p-6 flex items-center justify-between">
                    <div>
                        <div className="flex items-center gap-2 text-green-400 mb-1">
                            <TrendingUp size={16} />
                            <span className="text-sm font-bold tracking-wider">{trend}</span>
                            <span className="text-xs text-gray-400 uppercase tracking-widest ml-2">UNPROVEN</span>
                        </div>

                        <div className="flex items-baseline gap-3">
                            <h2 className="text-5xl font-black italic tracking-tighter text-white">
                                {elo}
                            </h2>
                            <span className="text-sm font-bold text-gray-400 uppercase tracking-widest">Current ELO</span>
                        </div>

                        <div className="flex items-center gap-2 mt-2 text-sm text-gray-300">
                            <Award size={16} className="text-yellow-500" />
                            <span>{rankGap} points to <span className="text-white font-bold">Bronze Rank</span></span>
                        </div>
                    </div>

                    <div className="hidden md:flex flex-col items-end">
                        <div className="w-16 h-16 rounded-full bg-zinc-800 border border-white/10 flex items-center justify-center mb-2">
                            <Zap className="text-blue-500" size={32} />
                        </div>
                        <span className="text-xs font-bold uppercase tracking-widest text-gray-500">Status: Active</span>
                    </div>
                </div>
            </div>
        </div>
    );
};

export default PlayerCard;



====================
FILE: frontend\components\PrivacyPolicy.tsx
====================


import React from 'react';
import { Link } from 'react-router-dom';
import { ArrowLeft } from 'lucide-react';

const PrivacyPolicy: React.FC = () => {
    return (
        <div className="min-h-screen bg-black text-gray-300 p-8 md:p-24 selection:bg-blue-600 selection:text-white">
            <div className="max-w-3xl mx-auto animate-fade-in-up">
                <Link to="/" className="inline-flex items-center text-blue-500 hover:text-blue-400 font-bold uppercase tracking-widest text-xs mb-12 hover:translate-x-[-4px] transition-transform">
                    <ArrowLeft className="w-4 h-4 mr-2" /> Back to Home
                </Link>

                <h1 className="text-4xl md:text-5xl font-black text-white uppercase italic tracking-tighter mb-8">
                    Privacy <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600">Policy</span>
                </h1>

                <div className="space-y-8 leading-relaxed">
                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">1. Introduction</h2>
                        <p>
                            Welcome to PickYourSocks. We respect your privacy and are committed to protecting your personal data.
                            This privacy policy will inform you as to how we look after your personal data when you visit our website
                            (regardless of where you visit it from) and tell you about your privacy rights and how the law protects you.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">2. Data We Collect</h2>
                        <p className="mb-4">
                            Currently, we only collect data that you voluntarily provide to us via our Waitlist form:
                        </p>
                        <ul className="list-disc pl-6 space-y-2 text-gray-400">
                            <li><strong>Email Address:</strong> Used to notify you when beta access opens.</li>
                            <li><strong>Usage Data:</strong> We may anonymously track interactions to improve website performance (e.g., button clicks).</li>
                        </ul>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">3. How We Use Your Data</h2>
                        <p>
                            Your data is used solely for the purpose of communicating waitlist status, product updates, and early access invitations.
                            We do not sell, trade, or otherwise transfer your personally identifiable information to outside parties.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">4. Security</h2>
                        <p>
                            We have put in place appropriate security measures to prevent your personal data from being accidentally lost,
                            used, or accessed in an unauthorized way.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">5. Contact Us</h2>
                        <p>
                            If you have any questions about this privacy policy or our privacy practices, please contact us at support@pickyoursocks.com.
                        </p>
                    </section>
                </div>

                <div className="mt-20 pt-8 border-t border-white/10 text-xs text-gray-500 uppercase tracking-widest">
                    Last Updated: January 2026
                </div>
            </div>
        </div>
    );
};

export default PrivacyPolicy;



====================
FILE: frontend\components\ProtectedRoute.tsx
====================

import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from './AuthContext';

interface ProtectedRouteProps {
  children: React.ReactNode;
}

const ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {
  const { user, isLoading } = useAuth();
  console.log('PROTECTED ROUTE CHECK', { user, isLoading });

  const location = useLocation();

  if (isLoading) {
    return (
      <div className="min-h-screen bg-black flex items-center justify-center">
        <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"></div>
      </div>
    );
  }

  if (!user) {
    return (
      <Navigate
        to="/auth?mode=login"
        state={{ from: location.pathname }}
        replace
      />
    );
  }

  return <>{children}</>;
};

export default ProtectedRoute;



====================
FILE: frontend\components\RadarFeed.tsx
====================

import React, { useState } from 'react';
import { MapPin, Target, Users, Radio, Clock } from 'lucide-react';
import { MatchOpportunity } from '../constants';

import { supabase } from '../lib/supabase';
import { useAuth } from './AuthContext';
import MatchResultModal from './MatchResultModal';
import { useNotification } from './NotificationContext';

interface RadarFeedProps {
    matches: MatchOpportunity[];
    user: any; // Using any for AuthUser for now to match context
}

const RadarFeed: React.FC<RadarFeedProps> = ({ matches, user }) => {
    const { showNotification } = useNotification();
    const [selectedMatch, setSelectedMatch] = useState<MatchOpportunity | null>(null);
    const [resultType, setResultType] = useState<'win' | 'loss' | null>(null);
    const [localClaimedIds, setLocalClaimedIds] = useState<string[]>([]);
    const [isSubmitting, setIsSubmitting] = useState(false);

    const handleAccept = async (matchId: string) => {
        if (!user) return;
        try {
            const { error } = await supabase
                .from('match_requests')
                .update({
                    status: 'accepted',
                    accepted_by: user.id
                })
                .eq('id', matchId);

            if (error) throw error;
            showNotification('Match accepted!', 'success');
            setTimeout(() => window.location.reload(), 1000);
        } catch (err) {
            console.error('Accept failed:', err);
            showNotification('Failed to accept match.', 'error');
        }
    };

    const initiateReport = (match: MatchOpportunity, type: 'win' | 'loss') => {
        setSelectedMatch(match);
        setResultType(type);
    };

    const handleSubmitResult = async (score: string) => {
        if (!selectedMatch || !resultType || !user) return;

        setIsSubmitting(true);
        try {
            // 1. Identify Roles
            const isPlayer1 = user.id === selectedMatch.user_id; // Creator
            const isPlayer2 = user.id === selectedMatch.accepted_by; // Acceptor

            if (!isPlayer1 && !isPlayer2) {
                showNotification("You are not part of this match!", "error");
                return;
            }

            // 2. Determine Claimed Winner
            let claimedWinnerId;
            if (resultType === 'win') {
                claimedWinnerId = user.id;
            } else {
                // If I lost, the other person won
                claimedWinnerId = isPlayer1 ? selectedMatch.accepted_by : selectedMatch.user_id;
            }

            const claimPayload = {
                winner_id: claimedWinnerId,
                score: score
            };

            // 3. Check for existing result row
            const { data: existingResult, error: fetchError } = await supabase
                .from('match_results')
                .select('id')
                .eq('match_id', selectedMatch.id)
                .maybeSingle();

            if (fetchError) throw fetchError;

            let error;

            if (existingResult) {
                // UPDATE existing row
                const updateData = isPlayer1
                    ? { player1_claim: claimPayload }
                    : { player2_claim: claimPayload };

                const { error: updateError } = await supabase
                    .from('match_results')
                    .update(updateData)
                    .eq('match_id', selectedMatch.id);
                error = updateError;
            } else {
                // INSERT new row
                const insertData = {
                    match_id: selectedMatch.id,
                    sport: selectedMatch.sport,
                    player1_id: selectedMatch.user_id,
                    player2_id: selectedMatch.accepted_by,
                    [isPlayer1 ? 'player1_claim' : 'player2_claim']: claimPayload
                };
                const { error: insertError } = await supabase
                    .from('match_results')
                    .insert(insertData);
                error = insertError;
            }

            if (error) throw error;

            // Optimistic update
            setLocalClaimedIds(prev => [...prev, selectedMatch.id]);
            setSelectedMatch(null); // Close modal immediately

            showNotification("Result submitted! Waiting for opponent to verify.", "success");
            setTimeout(() => window.location.reload(), 2000);

        } catch (err: any) {
            console.error('Result submit failed:', err);
            showNotification('Failed to save result: ' + err.message, "error");
        } finally {
            setIsSubmitting(false);
        }
    };

    return (
        <div className="space-y-6 pb-24">
            <MatchResultModal
                isOpen={!!selectedMatch}
                onClose={() => { setSelectedMatch(null); setResultType(null); }}
                onSubmit={handleSubmitResult}
                resultType={resultType}
                opponentName={selectedMatch?.title.split(' - ')[0] || 'Opponent'}
            />

            <div className="flex items-center justify-between mb-6">
                <h3 className="text-xl font-black italic uppercase tracking-tighter flex items-center gap-2">
                    <Target className="text-blue-500" />
                    The Radar
                </h3>
                <span className="text-xs font-bold uppercase tracking-widest text-green-500 animate-pulse">
                    Live Scanning...
                </span>
            </div>

            {matches.length > 0 ? (
                <div className="space-y-4">
                    {matches.map((match) => {
                        const isSkillMatch = user?.elo >= match.requiredEloRange[0] && user?.elo <= match.requiredEloRange[1];
                        const isOwnMatch = user && match.user_id === user.id;
                        const isParticipant = user && (match.user_id === user.id || match.accepted_by === user.id);
                        const isAccepted = match.status === 'accepted';

                        return (
                            <div
                                key={match.id}
                                className={`group relative bg-zinc-900/50 hover:bg-zinc-900 border ${isAccepted ? 'border-blue-500/30' : 'border-white/5'} hover:border-green-500/50 rounded-2xl p-6 transition-all duration-300`}
                            >
                                <div className="flex flex-col md:flex-row md:items-center justify-between gap-6">
                                    <div className="space-y-3">
                                        <div className="flex items-center gap-3">

                                            <span className="flex items-center gap-1 text-xs font-medium text-gray-500 uppercase tracking-wide">
                                                <MapPin size={12} /> {match.distance}
                                            </span>
                                            <span className="flex items-center gap-1 text-xs font-medium text-gray-500 uppercase tracking-wide">
                                                <Clock size={12} /> {match.time}
                                            </span>
                                        </div>

                                        <h4 className="text-xl font-bold text-white">{match.title}</h4>

                                        <p className={`text-sm font-medium ${isSkillMatch ? 'text-green-400' : 'text-gray-400'}`}>
                                            Looking for ELO {match.requiredEloRange[0]}-{match.requiredEloRange[1]}
                                            {isSkillMatch && !isAccepted && <span className="ml-2 py-0.5 px-2 bg-green-500/10 rounded text-xs">PERFECT MATCH</span>}
                                            {isAccepted && <span className="ml-2 py-0.5 px-2 bg-blue-500/10 text-blue-400 rounded text-xs">ACCEPTED</span>}
                                        </p>
                                    </div>

                                    {/* ACTIONS */}
                                    <div className="flex flex-col gap-2 min-w-[140px]">
                                        {!isAccepted ? (
                                            <button
                                                onClick={() => handleAccept(match.id)}
                                                disabled={isOwnMatch}
                                                className={`px-8 py-3 font-black uppercase tracking-wider rounded-xl transition-all shadow-lg ${isOwnMatch
                                                    ? 'bg-zinc-800 text-gray-500 cursor-not-allowed'
                                                    : 'bg-white text-black hover:bg-blue-500 hover:text-white hover:scale-105 shadow-white/10 hover:shadow-blue-500/20'
                                                    }`}
                                            >
                                                {isOwnMatch ? 'WAITING...' : 'ACCEPT'}
                                            </button>
                                        ) : (
                                            isParticipant ? (
                                                <div className="flex flex-col gap-2">
                                                    {match.userClaimed || localClaimedIds.includes(match.id) ? (
                                                        <button disabled className="w-full py-3 bg-zinc-800 text-yellow-500 font-bold uppercase tracking-wider rounded-xl cursor-not-allowed border border-yellow-500/20 text-[10px] flex items-center justify-center gap-2">
                                                            <Clock size={14} className="animate-pulse" />
                                                            AWAITING VERIFICATION
                                                        </button>
                                                    ) : (
                                                        <>
                                                            <div className="flex gap-2">
                                                                <button
                                                                    className="flex-1 py-2 bg-green-500/20 text-green-400 border border-green-500/50 rounded-lg hover:bg-green-500 hover:text-white transition-all font-bold uppercase text-xs"
                                                                    onClick={() => initiateReport(match, 'win')}
                                                                >
                                                                    WIN
                                                                </button>
                                                                <button
                                                                    className="flex-1 py-2 bg-red-500/20 text-red-400 border border-red-500/50 rounded-lg hover:bg-red-500 hover:text-white transition-all font-bold uppercase text-xs"
                                                                    onClick={() => initiateReport(match, 'loss')}
                                                                >
                                                                    LOSS
                                                                </button>
                                                            </div>
                                                            <p className="text-[10px] text-center text-gray-500 uppercase tracking-widest">Report Result</p>
                                                        </>
                                                    )}
                                                </div>
                                            ) : (
                                                <button disabled className="px-8 py-3 bg-zinc-800 text-blue-400 font-bold uppercase tracking-wider rounded-xl cursor-default border border-blue-500/20">
                                                    ACCEPTED
                                                </button>
                                            )
                                        )}
                                    </div>
                                </div>
                            </div>
                        );
                    })}
                </div>
            ) : (
                <div className="bg-zinc-900/30 border border-dashed border-white/10 rounded-2xl p-12 text-center">
                    <div className="w-16 h-16 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse">
                        <Radio className="text-gray-500" />
                    </div>
                    <h4 className="text-lg font-bold text-gray-300 mb-2">Sector Clear</h4>
                    <p className="text-gray-500 mb-6 max-w-sm mx-auto">
                        No active signals in your range. Be the one to initiate contact.
                    </p>
                    <button className="px-6 py-3 bg-zinc-800 hover:bg-zinc-700 text-white font-bold uppercase tracking-wider rounded-xl border border-white/5 transition-all">
                        Cast a Signal
                    </button>
                </div>
            )}
        </div>
    );
};

export default RadarFeed;



====================
FILE: frontend\components\SportsGrid.tsx
====================

import React from 'react';
import { useNavigate } from 'react-router-dom';
import { SPORTS } from '../constants';

interface SportsGridProps {
  limit?: number;
}

const SportsGrid: React.FC<SportsGridProps> = ({ limit }) => {
  const navigate = useNavigate();
  const displayedSports = limit ? SPORTS.slice(0, limit) : SPORTS;

  return (
    <section id="sports" className="py-24 bg-zinc-950">
      <div className="max-w-7xl mx-auto px-6 lg:px-12">
        <div className="flex justify-between items-end mb-12">
          <div>
            <h2 className="text-4xl md:text-6xl font-black italic uppercase tracking-tighter">
              Pick Your <span className="text-blue-600">Arena</span>
            </h2>
          </div>
          {limit && (
            <button
              onClick={() => navigate('/sports')}
              className="text-sm font-bold uppercase tracking-widest text-blue-500 hover:text-white transition-colors"
            >
              View All Sports â†’
            </button>
          )}
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          {displayedSports.map((sport) => (
            <div
              key={sport.id}
              className="group relative h-[450px] overflow-hidden rounded-3xl bg-zinc-900 border border-white/5 cursor-pointer"
            >
              <img
                src={sport.image}
                alt={sport.name}
                className="absolute inset-0 w-full h-full object-cover object-top grayscale group-hover:grayscale-0 transition-all duration-700 opacity-60 group-hover:opacity-100"
              />
              <div className="absolute inset-0 bg-gradient-to-t from-black via-black/20 to-transparent" />
              <div className="absolute bottom-0 left-0 p-8 w-full transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300">
                <h3 className="text-3xl font-black italic uppercase tracking-tighter mb-2 group-hover:text-blue-500 transition-colors">
                  {sport.name}
                </h3>
                <p className="text-sm text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                  {sport.description}
                </p>
                <div className="mt-4 w-12 h-1 bg-blue-600 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300" />
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default SportsGrid;



====================
FILE: frontend\components\StartMatchSidebar.tsx
====================

import React, { useState } from 'react';
import { useAuth } from './AuthContext';
import { Clock, Calendar } from 'lucide-react';
import { supabase } from '../lib/supabase';
import { useNotification } from './NotificationContext';

const StartMatchSidebar: React.FC = () => {
    const { showNotification } = useNotification();
    const { user } = useAuth();
    const [isBroadcasting, setIsBroadcasting] = useState(false);
    const [date, setDate] = useState('');
    const [time, setTime] = useState('');

    const handleBroadcast = async () => {
        if (!user) return;
        if (!date || !time) {
            showNotification('Please select a date and time.', 'error');
            return;
        }

        setIsBroadcasting(true);

        // Combine date and time into a single ISO string
        const scheduledTime = new Date(`${date}T${time}`).toISOString();

        try {
            const { error } = await supabase.from('match_requests').insert({
                user_id: user.id,
                sport: user.sports?.[0] || 'badminton', // Default to first sport or badminton
                scheduled_time: scheduledTime,
                status: 'active'
            });

            if (error) throw error;

            showNotification('Challenge Broadcasted! ðŸ“¡', 'success');
            // Reset form
            setDate('');
            setTime('');
        } catch (error: any) {
            console.error('Error broadcasting:', error);
            showNotification('Failed to broadcast: ' + error.message, 'error');
        } finally {
            setIsBroadcasting(false);
        }
    };

    return (
        <div className="bg-zinc-900/50 backdrop-blur-xl border border-white/10 rounded-2xl p-6 sticky top-24">
            <div className="text-center mb-8">
                <h3 className="text-xl font-black italic uppercase tracking-tighter text-white mb-2">
                    Start a Match
                </h3>
                <p className="text-gray-400 text-xs">
                    Broadcast your availability to players in your Elo range.
                </p>
            </div>

            {/* User Stats Card */}
            <div className="bg-gradient-to-br from-blue-600/20 to-purple-600/20 border border-white/10 p-4 rounded-xl mb-8 text-center relative overflow-hidden group">
                <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-purple-500"></div>

                <p className="text-gray-400 text-xs uppercase tracking-widest font-bold mb-1">Your Rating</p>
                <div className="text-4xl font-black text-white italic tracking-tighter drop-shadow-lg group-hover:scale-110 transition-transform duration-300">
                    {user?.elo ?? '---'}
                </div>
                <div className="text-xs font-bold text-blue-400 bg-blue-500/10 inline-block px-2 py-1 rounded mt-2 uppercase tracking-wider">
                    {user?.rating_deviation && user.rating_deviation > 100 ? 'Provisional' : 'Established'}
                </div>
            </div>

            {/* Time Selection */}
            <div className="space-y-4 mb-8">
                <p className="text-xs font-bold text-gray-500 uppercase tracking-widest">Schedule Match</p>

                <div className="space-y-3">
                    <div className="relative">
                        <div className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">
                            <Calendar size={16} />
                        </div>
                        <input
                            type="date"
                            value={date}
                            onChange={(e) => setDate(e.target.value)}
                            className="w-full bg-zinc-800/50 border border-white/10 rounded-xl px-4 py-3 pl-11 text-white text-sm font-bold uppercase tracking-wider focus:border-blue-500 outline-none"
                        />
                    </div>

                    <div className="relative">
                        <div className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500">
                            <Clock size={16} />
                        </div>
                        <input
                            type="time"
                            value={time}
                            onChange={(e) => setTime(e.target.value)}
                            className="w-full bg-zinc-800/50 border border-white/10 rounded-xl px-4 py-3 pl-11 text-white text-sm font-bold uppercase tracking-wider focus:border-blue-500 outline-none"
                        />
                    </div>
                </div>
            </div>

            {/* Broadcast Button */}
            <button
                onClick={handleBroadcast}
                disabled={isBroadcasting}
                className="w-full bg-white text-black py-4 rounded-xl font-black uppercase tracking-widest hover:bg-gray-200 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:scale-100 relative overflow-hidden"
            >
                {isBroadcasting ? (
                    <span className="flex items-center justify-center gap-2">
                        <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-20"></span>
                        Sending Challenge...
                    </span>
                ) : (
                    'Start a Challenge'
                )}
            </button>

            <p className="text-center text-gray-500 text-xs mt-4 leading-relaxed">
                This will notify players within <span className="text-white font-bold">5 miles</span> who match your skill level.
            </p>
        </div>
    );
};

export default StartMatchSidebar;



====================
FILE: frontend\components\TermsOfService.tsx
====================


import React from 'react';
import { Link } from 'react-router-dom';
import { ArrowLeft } from 'lucide-react';

const TermsOfService: React.FC = () => {
    return (
        <div className="min-h-screen bg-black text-gray-300 p-8 md:p-24 selection:bg-blue-600 selection:text-white">
            <div className="max-w-3xl mx-auto animate-fade-in-up">
                <Link to="/" className="inline-flex items-center text-blue-500 hover:text-blue-400 font-bold uppercase tracking-widest text-xs mb-12 hover:translate-x-[-4px] transition-transform">
                    <ArrowLeft className="w-4 h-4 mr-2" /> Back to Home
                </Link>

                <h1 className="text-4xl md:text-5xl font-black text-white uppercase italic tracking-tighter mb-8">
                    Terms of <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600">Service</span>
                </h1>

                <div className="space-y-8 leading-relaxed">
                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">1. Agreement to Terms</h2>
                        <p>
                            By accessing or using PickYourSocks (the "Service"), you agree to be bound by these Terms of Service.
                            If you do not agree to these terms, you may not use the Service.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">2. Beta Service</h2>
                        <p>
                            You acknowledge that the Service is currently in "Beta" phase. This means it may contain bugs, errors, and other issues
                            that could affect system stability. We give no warranties regarding the reliability or availability of the Service during this phase.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">3. User Conduct</h2>
                        <p>
                            You agree not to use the Service for any unlawful purpose or in any way that interrupts, damages, or impairs the service.
                            Respectful competition is the core of our platform; abusive behavior toward other athletes will result in immediate termination.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">4. Intellectual Property</h2>
                        <p>
                            The Service and its original content, features, and functionality are and will remain the exclusive property of PickYourSocks
                            and its licensors.
                        </p>
                    </section>

                    <section>
                        <h2 className="text-2xl font-bold text-white mb-4">5. Changes to Terms</h2>
                        <p>
                            We reserve the right to modify or replace these Terms at any time. We will try to provide at least 30 days notice prior
                            to any new terms taking effect.
                        </p>
                    </section>
                </div>

                <div className="mt-20 pt-8 border-t border-white/10 text-xs text-gray-500 uppercase tracking-widest">
                    Last Updated: January 2026
                </div>
            </div>
        </div>
    );
};

export default TermsOfService;



====================
FILE: frontend\components\UserProfileSidebar.tsx
====================

import React from 'react';
import { TrendingUp, Flame, Eye, Lock, ShieldCheck, AlertTriangle } from 'lucide-react';

interface UserProfileSidebarProps {
    elo: number;
    trend: string;
    streak: number;
    scoutViewCount: number;
    gamesPlayed?: number; // New: For provisional logic
    reliability?: number; // New: Percentage (0-100)
}

const UserProfileSidebar: React.FC<UserProfileSidebarProps> = ({
    elo,
    trend,
    streak,
    scoutViewCount,
    gamesPlayed = 12, // Default to established for now
    reliability = 98
}) => {
    const isProvisional = gamesPlayed < 5;
    const isRiskOfDecay = true; // Mocked logic: User hasn't played in >10 days

    return (
        <div className="space-y-6 sticky top-24">
            {/* 1. Digital Trading Card */}
            <div className="relative overflow-hidden rounded-3xl bg-zinc-900 border border-white/5 shadow-2xl group transition-all duration-300 hover:border-blue-500/30">

                {/* Holographic BG */}
                <div className="absolute inset-0 bg-gradient-to-br from-blue-900/10 via-black to-purple-900/10 opacity-50" />
                <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20" />

                <div className="relative p-6 text-center">
                    <div className="w-24 h-24 mx-auto bg-gradient-to-tr from-blue-500 to-purple-600 rounded-full p-1 mb-4 shadow-lg shadow-blue-500/20">
                        <div className="w-full h-full bg-black rounded-full flex items-center justify-center overflow-hidden">
                            <img src="https://i.pravatar.cc/300" alt="User" className="w-full h-full object-cover opacity-90 hover:opacity-100 transition-opacity" />
                        </div>
                    </div>

                    {/* Rank Display: Provisional or ELO */}
                    {isProvisional ? (
                        <div className="mb-2">
                            <h2 className="text-3xl font-black italic tracking-tighter text-gray-300">
                                PROVISIONAL
                            </h2>
                            <p className="text-xs text-blue-400 font-bold uppercase tracking-widest">
                                {5 - gamesPlayed} games to calibrate
                            </p>
                        </div>
                    ) : (
                        <div className="relative inline-block">
                            <h2 className="text-5xl font-black italic tracking-tighter text-white mb-1">
                                {elo}
                            </h2>
                            {isRiskOfDecay && (
                                <div className="absolute -top-2 -right-6 group/decay">
                                    <AlertTriangle className="text-yellow-500 animate-pulse" size={16} />
                                    <div className="absolute left-full top-0 ml-2 w-32 bg-zinc-800 text-[10px] text-gray-300 p-2 rounded opacity-0 group-hover/decay:opacity-100 pointer-events-none transition-opacity z-50 border border-white/10">
                                        Rank decay in 2 days. Play a match!
                                    </div>
                                </div>
                            )}
                        </div>
                    )}

                    {!isProvisional && (
                        <div className="flex items-center justify-center gap-2 text-green-400 mb-6">
                            <TrendingUp size={16} />
                            <span className="text-sm font-bold tracking-wide">{trend}</span>
                        </div>
                    )}

                    <div className="grid grid-cols-2 gap-3 mt-4">
                        <div className="bg-zinc-800/50 p-3 rounded-xl border border-white/5">
                            <div className="flex items-center justify-center gap-1.5 text-orange-500 mb-1">
                                <Flame size={18} className="fill-orange-500/20" />
                            </div>
                            <div className="text-xl font-bold text-white">{streak}</div>
                            <div className="text-[10px] uppercase tracking-widest text-gray-500">Day Streak</div>
                        </div>
                        {/* Reliability Score */}
                        <div className="bg-zinc-800/50 p-3 rounded-xl border border-white/5">
                            <div className="flex items-center justify-center gap-1.5 text-blue-500 mb-1">
                                <ShieldCheck size={18} className="fill-blue-500/20" />
                            </div>
                            <div className={`text-xl font-bold ${reliability > 90 ? 'text-white' : 'text-red-400'}`}>
                                {reliability}%
                            </div>
                            <div className="text-[10px] uppercase tracking-widest text-gray-500">Reliability</div>
                        </div>
                    </div>
                </div>
            </div>

            {/* 2. Scout Notification (Monetization Nudge) */}
            <div className="relative overflow-hidden rounded-2xl bg-zinc-900 border border-white/5 p-1 group cursor-pointer hover:border-yellow-500/50 transition-colors">
                <div className="p-4 flex items-center gap-4">
                    <div className="relative">
                        <div className="w-12 h-12 rounded-xl bg-zinc-800 flex items-center justify-center border border-white/10">
                            <Eye size={24} className="text-gray-400" />
                        </div>
                        <div className="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-[10px] font-bold text-white border-2 border-black">
                            {scoutViewCount}
                        </div>
                    </div>
                    <div>
                        <h4 className="font-bold text-white text-sm">Scouts viewing you</h4>
                        <p className="text-xs text-gray-400 mt-0.5">2 verified scouts visited your profile.</p>
                    </div>
                    <div className="ml-auto">
                        <Lock size={16} className="text-yellow-500" />
                    </div>
                </div>

                {/* Blurred overlay hint */}
                <div className="px-4 pb-4">
                    <div className="flex items-center gap-3 opacity-50 blur-[2px] select-none my-2">
                        <div className="w-8 h-8 rounded-full bg-indigo-500"></div>
                        <div className="h-2 w-20 bg-gray-600 rounded"></div>
                    </div>
                    <button className="w-full py-2 bg-gradient-to-r from-yellow-600 to-yellow-500 text-black font-bold uppercase text-xs tracking-wider rounded-lg hover:brightness-110 transition-all shadow-lg shadow-yellow-500/10">
                        Unlock Scout Report
                    </button>
                </div>
            </div>
        </div>
    );
};

export default UserProfileSidebar;



====================
FILE: frontend\components\Waitlist.tsx
====================

import React, { useState, useRef, useEffect } from 'react';
import { ChevronDown, Check } from 'lucide-react';

const Waitlist: React.FC = () => {
  const [email, setEmail] = useState('');
  const [sport, setSport] = useState('');
  const [isOpen, setIsOpen] = useState(false);
  const [submitted, setSubmitted] = useState(false);
  const [loading, setLoading] = useState(false);
  const dropdownRef = useRef<HTMLDivElement>(null);

  const sports = [
    "Running", "Football", "Basketball", "Gym",
    "Crossfit", "Tennis", "Boxing", "MMA",
    "Kickboxing", "Other"
  ];

  useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {
        setIsOpen(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, []);

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();
    if (email && sport) {
      setLoading(true);

      const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbxDh2XJKpCYfOQOluz3Nqa0_RpPKtpUKANuQPsd_wfVwMnMXd1gqrRTxBV4RmxuYlcA/exec";

      const formData = new FormData();
      formData.append('email', email);
      formData.append('sport', sport);
      formData.append('timestamp', new Date().toISOString());

      fetch(GOOGLE_SCRIPT_URL, {
        method: 'POST',
        body: formData,
        mode: 'no-cors'
      })
        .then(() => {
          setSubmitted(true);
          setEmail('');
          setSport('');
        })
        .catch((error) => {
          console.error("Error!", error);
          alert("Something went wrong. Please check your internet connection.");
        })
        .finally(() => {
          setLoading(false);
        });
    } else {
      alert("Please select a sport");
    }
  };

  return (
    <section id="waitlist" className="py-24 bg-black relative overflow-hidden">
      <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-blue-600/10 blur-[120px] rounded-full pointer-events-none" />

      <div className="max-w-4xl mx-auto px-6 relative z-10 text-center">
        <h2 className="text-4xl md:text-6xl font-black italic uppercase tracking-tighter mb-6">
          Be the First to <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-600 pr-12">Compete</span>
        </h2>
        <p className="text-xl text-gray-300 mb-12 max-w-2xl mx-auto leading-relaxed">
          Join our exclusive waitlist and get priority access to our skill-rated matchmaking system and recruitment tools.
        </p>

        {!submitted ? (
          <form onSubmit={handleSubmit} className="flex flex-col md:flex-row gap-4 max-w-2xl mx-auto">
            <div className="flex-1 bg-white/5 border border-white/10 rounded-full focus-within:ring-2 focus-within:ring-blue-600/50 transition-all shadow-2xl shadow-black/50 overflow-hidden backdrop-blur-sm">
              <input
                type="email"
                placeholder="Enter your athletic email"
                required
                name="email"
                className="w-full bg-transparent px-8 py-4 text-white placeholder-gray-500 outline-none border-none focus:ring-0"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
                disabled={loading}
              />
            </div>

            <div className="relative flex-1 min-w-[200px]" ref={dropdownRef}>
              <div
                onClick={() => !loading && setIsOpen(!isOpen)}
                className={`w-full bg-white/5 border border-white/10 rounded-full px-8 py-4 text-left flex justify-between items-center cursor-pointer hover:bg-white/10 transition-colors backdrop-blur-sm ${loading ? 'opacity-50 cursor-not-allowed' : ''} ${isOpen ? 'ring-2 ring-blue-600/50' : ''}`}
              >
                <span className={sport ? "text-white" : "text-gray-500"}>
                  {sport || "Select Sport"}
                </span>
                <ChevronDown className={`w-5 h-5 text-gray-500 transition-transform duration-300 ${isOpen ? 'rotate-180 text-blue-500' : ''}`} />
              </div>

              {isOpen && (
                <div className="absolute top-full left-0 right-0 mt-2 bg-[#0a0a0a]/90 backdrop-blur-xl border border-white/10 rounded-2xl overflow-hidden z-50 shadow-2xl animate-in fade-in zoom-in-95 duration-200">
                  <div className="py-2 max-h-60 overflow-y-auto custom-scrollbar">
                    {sports.map((option) => (
                      <div
                        key={option}
                        onClick={() => {
                          setSport(option);
                          setIsOpen(false);
                        }}
                        className="px-6 py-3 hover:bg-blue-600/20 hover:text-blue-400 cursor-pointer transition-colors flex items-center justify-between group"
                      >
                        <span className={`font-medium ${sport === option ? 'text-blue-500' : 'text-gray-300 group-hover:text-white'}`}>
                          {option}
                        </span>
                        {sport === option && <Check className="w-4 h-4 text-blue-500" />}
                      </div>
                    ))}
                  </div>
                </div>
              )}
            </div>

            <button
              type="submit"
              disabled={loading}
              className="bg-blue-600 hover:bg-blue-500 text-white font-black uppercase tracking-widest px-8 py-4 rounded-full transition-all transform hover:scale-105 active:scale-95 whitespace-nowrap shadow-[0_0_20px_rgba(37,99,235,0.3)] hover:shadow-[0_0_30px_rgba(37,99,235,0.6)] disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? 'Joining...' : 'Join Now'}
            </button>
          </form>
        ) : (
          <div className="p-8 bg-blue-600/20 border border-blue-600/30 rounded-3xl animate-fade-in">
            <h3 className="text-2xl font-bold mb-2">You're on the roster!</h3>
            <p className="text-blue-400 font-semibold">We've added your details to the database.</p>
          </div>
        )}

        <p className="mt-8 text-xs font-bold uppercase tracking-widest text-gray-600">
          Limited slots remaining for beta season. No spam. Just performance.
        </p>
      </div>
    </section>
  );
};

export default Waitlist;



====================
FILE: frontend\lib\profile.ts
====================

import { supabase } from './supabase';

/* =======================
   Fetch Profile (SAFE)
======================= */

export const fetchProfile = async (userId: string) => {
  const { data, error } = await supabase
    .from('profiles')
    .select('*')
    .eq('id', userId)
    .single();

  if (error) {
    console.warn('fetchProfile error:', error.message);
    return null;
  }

  return data;
};

/* =======================
   Update Profile (SAFE)
======================= */

export const updateProfile = async (
  userId: string,
  updates: Record<string, any>
) => {
  const { error } = await supabase
    .from('profiles')
    .update({
      ...updates,
      updated_at: new Date().toISOString(),
    })
    .eq('id', userId);

  if (error) {
    console.error('updateProfile error:', error.message);
    throw error;
  }
};



====================
FILE: frontend\lib\r2.ts
====================

const API = import.meta.env.VITE_BACKEND_URL;

if (!API) {
  console.warn('VITE_BACKEND_URL is not defined');
}

/* =======================
   Upload Profile Photo
======================= */
export const uploadProfilePhoto = async (file: File, userId: string) => {
  const fd = new FormData();
  fd.append('file', file);
  fd.append('userId', userId);

  const res = await fetch(`${API}/api/upload/profile-photo`, {
    method: 'POST',
    body: fd,
  });

  if (!res.ok) {
    const text = await res.text();
    throw new Error(`Profile photo upload failed: ${text}`);
  }

  const data = await res.json();

  if (!data?.url) {
    throw new Error('No URL returned from profile photo upload');
  }

  return data.url as string;
};

/* =======================
   Upload Post Media
======================= */
export const uploadPostMedia = async (file: File, userId: string) => {
  const fd = new FormData();
  fd.append('file', file);
  fd.append('userId', userId);

  const res = await fetch(`${API}/api/upload/post-media`, {
    method: 'POST',
    body: fd,
  });

  if (!res.ok) {
    const text = await res.text();
    throw new Error(`Post media upload failed: ${text}`);
  }

  const data = await res.json();

  if (!data?.url) {
    throw new Error('No URL returned from post media upload');
  }

  return data.url as string;
};



====================
FILE: frontend\lib\supabase.ts
====================

import { createClient } from '@supabase/supabase-js';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL as string;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY as string;

if (!supabaseUrl || !supabaseAnonKey) {
  console.error('âŒ Missing Supabase environment variables!');
}

export const supabase = createClient(
  supabaseUrl,
  supabaseAnonKey,
  {
    auth: {
      persistSession: true,
      autoRefreshToken: true,
      detectSessionInUrl: true,
      storage: localStorage, // ðŸ”¥ FIX refresh bug
    },
  }
);

// Debug auth
supabase.auth.onAuthStateChange((event, session) => {
  console.log('AUTH EVENT:', event);
  console.log('SESSION:', session);
});



====================
FILE: frontend\pages\AllSports.tsx
====================

import React from 'react';
import Navbar from '../components/Navbar';
import SportsGrid from '../components/SportsGrid';
import Footer from '../components/Footer';

const AllSports: React.FC = () => {
    return (
        <div className="min-h-screen bg-black text-white selection:bg-blue-600 selection:text-white">
            <Navbar />

            <main className="pt-20">
                <SportsGrid />
            </main>

            <Footer />

            {/* Background static / noise overlay for cinematic feel */}
            <div className="fixed inset-0 pointer-events-none opacity-[0.03] z-[100] mix-blend-overlay">
                <div className="w-full h-full bg-[url('https://grainy-gradients.vercel.app/noise.svg')]" />
            </div>
        </div>
    );
};

export default AllSports;



====================
FILE: frontend\pages\Auth.tsx
====================

import React, { useState, useEffect } from 'react';
import { useNavigate, useSearchParams } from 'react-router-dom';
import { useAuth } from '../components/AuthContext';
import { SPORTS } from '../constants';
import { User as UserIcon } from 'lucide-react';

const MAX_STEPS = 3;

// Calibration Levels based on the user's provided guide
const SKILL_LEVELS = [
  { level: 0.5, label: 'Newbie', elo: 600, desc: 'Learning to hold the racket. Mostly stationary.' },
  { level: 1, label: 'Beginner', elo: 800, desc: 'Can hit basic shots but footwork is stiff.' },
  { level: 2, label: 'Recreational', elo: 1000, desc: 'Clears reach baseline, but error rate is high.' },
  { level: 3, label: 'Intermediate', elo: 1200, desc: 'Stable serve, can smash/drop, moving better.' },
  { level: 4, label: 'Advanced', elo: 1500, desc: 'Strong net play, continuous attacks, good tactics.' },
  { level: 5, label: 'Expert', elo: 1800, desc: 'Proficient in all techniques, deceptive shots.' },
  { level: 6, label: 'Elite', elo: 2000, desc: 'Professional characteristics, high speed & power.' },
];

const Auth: React.FC = () => {
  const [searchParams] = useSearchParams();
  const initialMode = searchParams.get('mode');

  const [isLogin, setIsLogin] = useState(initialMode !== 'signup');
  const navigate = useNavigate();
  const { login, signup, loginWithGoogle, isLoading } = useAuth();

  // Wizard State
  const [currentStep, setCurrentStep] = useState(1);
  const [error, setError] = useState('');

  // Form Data
  const [name, setName] = useState('');
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [selectedSports, setSelectedSports] = useState<string[]>(['badminton']); // Default to badminton for now
  const [isSportsDropdownOpen, setIsSportsDropdownOpen] = useState(false);
  const [pledgeAccepted, setPledgeAccepted] = useState(false);
  const [selectedSkill, setSelectedSkill] = useState<typeof SKILL_LEVELS[0] | null>(null);

  const toggleMode = () => {
    const newMode = !isLogin ? 'login' : 'signup';
    setIsLogin(!isLogin);
    setCurrentStep(1);
    setError('');
    navigate(`/auth?mode=${newMode}`, { replace: true });
  }

  /* --------------------
     Login Logic
  -------------------- */
  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    setError('');
    if (!email || !password) {
      setError('Please fill in all fields');
      return;
    }
    try {
      await login(email, password);
    } catch (err: any) {
      setError(err.message || 'Login failed');
    }
  };

  /* --------------------
     Signup Wizard Logic
  -------------------- */
  const handleNextStep = () => {
    setError('');
    if (currentStep === 1) {
      if (!name || !email || !password) {
        setError('Please fill in all fields');
        return;
      }
      if (password.length < 8) {
        setError('Password must be at least 8 characters');
        return;
      }
      if (selectedSports.length === 0) {
        setError('Please select at least one sport');
        return;
      }
      setCurrentStep(2);
    } else if (currentStep === 2) {
      if (!pledgeAccepted) {
        setError('You must accept the pledge to continue');
        return;
      }
      setCurrentStep(3);
    }
  };

  const handleFinalSignup = async () => {
    setError('');
    if (!selectedSkill) {
      setError('Please select your skill level');
      return;
    }

    try {
      await signup(
        {
          name,
          email,
          sports: selectedSports,
          elo: selectedSkill.elo,
          reliability_score: 100, // Initial perfect score
          calibration_games_remaining: 5, // High RD phase
          rating_deviation: 350, // Max uncertainty
        },
        password
      );
      navigate('/feed');
    } catch (err: any) {
      setError(err.message || 'Signup failed');
    }
  };

  const handleGoogleLogin = async () => {
    try {
      await loginWithGoogle();
    } catch (err: any) {
      setError(err.message || 'Google login failed');
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-black text-white px-4 relative overflow-hidden py-10">
      {/* Background Glow */}
      <div className="absolute inset-0 pointer-events-none z-0">
        <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/20 blur-[120px] rounded-full" />
        <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-purple-600/20 blur-[120px] rounded-full" />
      </div>

      <div className="w-full max-w-md bg-zinc-900/80 backdrop-blur-2xl p-8 rounded-3xl border border-white/10 shadow-2xl relative z-10 transition-all duration-500">

        {/* Header */}
        <div className="text-center mb-8">
          <h2 className="text-3xl font-black italic mb-2 uppercase tracking-tighter">
            {isLogin ? 'Welcome Back' : (
              currentStep === 1 ? 'Create Account' :
                currentStep === 2 ? 'Reliability Pledge' :
                  'Calibration'
            )}
          </h2>
          <p className="text-gray-400 text-sm">
            {isLogin ? 'Enter your details to access your account' : (
              currentStep === 1 ? 'Step 1: Identity' :
                currentStep === 2 ? 'Step 2: Commitment' :
                  'Step 3: Skill Verification'
            )}
          </p>

          {/* Progress Bar for Signup */}
          {!isLogin && (
            <div className="flex gap-2 mt-4 justify-center">
              {[1, 2, 3].map(step => (
                <div
                  key={step}
                  className={`h-1 rounded-full transition-all duration-300 ${step <= currentStep ? 'w-8 bg-blue-500' : 'w-4 bg-zinc-700'
                    }`}
                />
              ))}
            </div>
          )}
        </div>

        {error && (
          <div className="bg-red-500/10 border border-red-500/50 text-red-500 px-4 py-3 rounded-xl mb-6 text-sm text-center font-medium">
            {error}
          </div>
        )}

        {/* ================= LOGIN FORM ================= */}
        {isLogin ? (
          <form onSubmit={handleLogin} className="space-y-4">
            <div className="space-y-4">
              <input
                type="email"
                placeholder="Email"
                className="w-full px-5 py-4 rounded-xl bg-black/50 border border-white/10 focus:border-blue-500 transition-colors"
                value={email}
                onChange={(e) => setEmail(e.target.value)}
              />
              <input
                type="password"
                placeholder="Password"
                className="w-full px-5 py-4 rounded-xl bg-black/50 border border-white/10 focus:border-blue-500 transition-colors"
                value={password}
                onChange={(e) => setPassword(e.target.value)}
              />
            </div>

            <button
              disabled={isLoading}
              className="w-full bg-blue-600 mt-6 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-blue-500 disabled:opacity-50 transition-all hover:scale-[1.02]"
            >
              {isLoading ? 'Authenticating...' : 'Login'}
            </button>

            <div className="relative my-6 text-center">
              <div className="absolute inset-0 flex items-center"><div className="w-full border-t border-white/10"></div></div>
              <span className="relative bg-zinc-900 px-4 text-xs text-gray-500 uppercase tracking-widest">Or</span>
            </div>

            <button
              type="button"
              onClick={handleGoogleLogin}
              className="w-full bg-white text-black py-4 rounded-xl font-bold hover:bg-gray-200 transition-colors flex items-center justify-center gap-2"
            >
              Continue with Google
            </button>
          </form>
        ) : (
          /* ================= SIGNUP WIZARD ================= */
          <div className="space-y-6">

            {/* STEP 1: IDENTITY */}
            {currentStep === 1 && (
              <div className="space-y-4 animate-in fade-in slide-in-from-right-4 duration-300">
                <div className="relative">
                  <UserIcon className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-500" size={18} />
                  <input
                    type="text"
                    placeholder="Full Name"
                    className="w-full pl-11 pr-5 py-4 rounded-xl bg-black/50 border border-white/10 focus:border-blue-500 transition-colors"
                    value={name}
                    onChange={(e) => setName(e.target.value)}
                    autoFocus
                  />
                </div>
                <input
                  type="email"
                  placeholder="Email"
                  className="w-full px-5 py-4 rounded-xl bg-black/50 border border-white/10 focus:border-blue-500 transition-colors"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                />
                <input
                  type="password"
                  placeholder="Password (min 8 chars)"
                  className="w-full px-5 py-4 rounded-xl bg-black/50 border border-white/10 focus:border-blue-500 transition-colors"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                />

                {/* Sports Selection (Custom Dropdown) */}
                <div className="space-y-2 relative">
                  <p className="text-xs text-gray-500 ml-1 uppercase tracking-wider font-bold">Your Sport</p>

                  <button
                    type="button"
                    onClick={() => setIsSportsDropdownOpen(!isSportsDropdownOpen)}
                    className="w-full px-5 py-4 rounded-xl bg-black/50 border border-white/10 text-left flex items-center justify-between hover:border-blue-500 transition-all group"
                  >
                    <span className={`font-bold uppercase tracking-wider ${selectedSports.length > 0 ? 'text-white' : 'text-gray-500'}`}>
                      {selectedSports.length > 0
                        ? SPORTS.find(s => s.id === selectedSports[0])?.name
                        : 'Select Sport'}
                    </span>
                    <span className={`text-gray-500 transition-transform duration-300 ${isSportsDropdownOpen ? 'rotate-180' : ''}`}>
                      â–¼
                    </span>
                  </button>

                  {isSportsDropdownOpen && (
                    <div className="absolute top-full left-0 right-0 mt-2 bg-zinc-900/95 backdrop-blur-xl border border-white/10 rounded-xl p-2 z-50 max-h-60 overflow-y-auto shadow-2xl animate-in fade-in zoom-in-95 duration-200">
                      {SPORTS.map((sport) => (
                        <button
                          key={sport.id}
                          type="button"
                          onClick={() => {
                            setSelectedSports([sport.id]);
                            setIsSportsDropdownOpen(false);
                          }}
                          className={`w-full text-left px-4 py-3 rounded-lg mb-1 flex items-center justify-between transition-colors ${selectedSports.includes(sport.id)
                            ? 'bg-blue-600/20 text-blue-400 border border-blue-500/30'
                            : 'text-gray-300 hover:bg-white/5 hover:text-white'
                            }`}
                        >
                          <span className="font-bold uppercase text-sm tracking-wider">
                            {sport.name}
                          </span>
                          {selectedSports.includes(sport.id) && (
                            <span className="text-blue-400 font-bold">âœ“</span>
                          )}
                        </button>
                      ))}
                    </div>
                  )}
                </div>

                <button
                  onClick={handleNextStep}
                  className="w-full bg-blue-600 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-blue-500 transition-all hover:scale-[1.02] mt-4"
                >
                  Next Step
                </button>

                <button
                  type="button"
                  onClick={handleGoogleLogin}
                  className="w-full bg-white/5 text-white py-3 rounded-xl font-bold text-sm hover:bg-white/10 transition-colors"
                >
                  Use Google Instead
                </button>
              </div>
            )}

            {/* STEP 2: RELIABILITY PLEDGE */}
            {currentStep === 2 && (
              <div className="space-y-6 animate-in fade-in slide-in-from-right-4 duration-300">
                <div className="bg-yellow-500/10 border border-yellow-500/20 p-6 rounded-2xl text-center">
                  <h3 className="text-yellow-500 font-bold uppercase tracking-wider mb-2">The Playo Paradox</h3>
                  <p className="text-gray-400 text-sm leading-relaxed">
                    "High-level players reject invites because they fear low-quality games. Low-level players get stranded."
                  </p>
                </div>

                <div className="text-center px-4">
                  <p className="text-white font-medium mb-4">
                    To fix this, we track <span className="text-blue-500 font-bold">Reliability</span>.
                  </p>
                  <p className="text-gray-400 text-sm mb-6">
                    By checking this box, you pledge to show up to games you accept. Flaking will destroy your reliability score and hide you from the feed.
                  </p>

                  <label className="flex items-center gap-4 bg-zinc-800/50 p-4 rounded-xl border border-white/10 cursor-pointer hover:border-blue-500/50 transition-colors">
                    <div className={`w-6 h-6 rounded-md border flex items-center justify-center transition-colors ${pledgeAccepted ? 'bg-blue-500 border-blue-500' : 'border-gray-500'}`}>
                      {pledgeAccepted && <span className="text-white text-sm font-bold">âœ“</span>}
                    </div>
                    <input
                      type="checkbox"
                      className="hidden"
                      checked={pledgeAccepted}
                      onChange={(e) => setPledgeAccepted(e.target.checked)}
                    />
                    <span className="text-sm font-bold text-gray-200">
                      I pledge to be reliable.
                    </span>
                  </label>
                </div>

                <div className="flex gap-4">
                  <button
                    onClick={() => setCurrentStep(1)}
                    className="w-1/3 bg-zinc-800 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-zinc-700 transition-colors text-xs"
                  >
                    Back
                  </button>
                  <button
                    onClick={handleNextStep}
                    disabled={!pledgeAccepted}
                    className="w-2/3 bg-blue-600 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:scale-[1.02]"
                  >
                    Commit
                  </button>
                </div>
              </div>
            )}

            {/* STEP 3: SKILL CALIBRATION */}
            {currentStep === 3 && (
              <div className="space-y-4 animate-in fade-in slide-in-from-right-4 duration-300">
                <div className="text-center mb-4">
                  <div className="inline-block bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider mb-2">
                    Shadow Î¼ Calibration
                  </div>
                  <p className="text-gray-400 text-xs">
                    Select your accurate level. Your rating will be provisional (high deviation) for the first 5 matches.
                  </p>
                </div>

                <div className="space-y-2 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                  {SKILL_LEVELS.map((skill) => (
                    <button
                      key={skill.level}
                      onClick={() => setSelectedSkill(skill)}
                      className={`w-full text-left p-4 rounded-xl border transition-all duration-200 group ${selectedSkill?.level === skill.level
                        ? 'bg-blue-600 border-blue-500 ring-2 ring-blue-500/20'
                        : 'bg-zinc-800/50 border-white/5 hover:bg-zinc-800 hover:border-white/20'
                        }`}
                    >
                      <div className="flex justify-between items-center mb-1">
                        <span className={`font-black italic uppercase text-lg ${selectedSkill?.level === skill.level ? 'text-white' : 'text-gray-300'
                          }`}>
                          Level {skill.level}
                        </span>
                        <span className={`text-xs font-bold px-2 py-0.5 rounded ${selectedSkill?.level === skill.level ? 'bg-white/20 text-white' : 'bg-black/30 text-gray-500'
                          }`}>
                          ~{skill.elo} ELO
                        </span>
                      </div>
                      <p className={`text-xs ${selectedSkill?.level === skill.level ? 'text-blue-100' : 'text-gray-500'
                        }`}>
                        {skill.desc}
                      </p>
                    </button>
                  ))}
                </div>

                <div className="flex gap-4 pt-2">
                  <button
                    onClick={() => setCurrentStep(2)}
                    className="w-1/3 bg-zinc-800 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-zinc-700 transition-colors text-xs"
                  >
                    Back
                  </button>
                  <button
                    onClick={handleFinalSignup}
                    disabled={isLoading || !selectedSkill}
                    className="w-2/3 bg-blue-600 py-4 rounded-xl font-bold uppercase tracking-widest hover:bg-blue-500 disabled:opacity-50 transition-all hover:scale-[1.02]"
                  >
                    {isLoading ? 'Calibrating...' : 'Finish'}
                  </button>
                </div>
              </div>
            )}

          </div>
        )}

        <div className="mt-8 text-center">
          <p className="text-gray-500 text-sm">
            {isLogin ? "Don't have an account?" : 'Already in the system?'}{' '}
            <button
              onClick={toggleMode}
              className="text-white font-bold hover:text-blue-400 ml-1 underline decoration-blue-500/30 underline-offset-4"
            >
              {isLogin ? 'Join Now' : 'Login'}
            </button>
          </p>
        </div>
      </div>
    </div>
  );
};

export default Auth;



====================
FILE: frontend\pages\Feed.tsx
====================

import React, { useEffect, useState } from 'react';
import { useAuth } from '../components/AuthContext';
import Navbar from '../components/Navbar';
import UserProfileSidebar from '../components/UserProfileSidebar';
import ErrorState from '../components/ErrorState';
import { supabase } from '../lib/supabase';
import { Filter, MessageSquare, Heart, Clock } from 'lucide-react';

interface FeedPost {
  id: string;
  caption: string;
  media_url: string | null;
  media_type: 'image' | 'video' | 'text';
  sport: string;
  created_at: string;
  author?: {
    username?: string;
    profile_photo?: string | null;
  };
}

const Feed: React.FC = () => {
  const { user, isLoading: authLoading } = useAuth();

  const [posts, setPosts] = useState<FeedPost[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  /* -------------------------
     FETCH POSTS
  ------------------------- */
  const fetchFeed = async () => {
    setIsLoading(true);
    setError(null);

    try {
      const { data, error } = await supabase
        .from('posts')
        .select(
          `
          id,
          caption,
          media_url,
          media_type,
          sport,
          created_at,
          author:profiles (
            username,
            profile_photo
          )
        `
        )
        .order('created_at', { ascending: false });

      if (error) throw error;

      setPosts(data || []);
    } catch (err) {
      console.error('Feed fetch failed:', err);
      setError('Failed to load feed');
    } finally {
      setIsLoading(false);
    }
  };

  /* -------------------------
     INIT
  ------------------------- */
  useEffect(() => {
    if (user) {
      fetchFeed();
    }
  }, [user]);

  if (!user) {
    if (authLoading) {
      return (
        <div className="min-h-screen bg-black text-white flex items-center justify-center">
          <div className="text-center">
            <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto mb-4"></div>
            <p className="text-gray-400">Loading...</p>
          </div>
        </div>
      );
    }
    return null;
  }

  return (
    <div className="min-h-screen bg-black text-white">
      <Navbar />

      <main className="pt-24 pb-20 px-4 md:px-8 max-w-3xl mx-auto">
        <div className="space-y-8">

          {/* FEED */}
          <div>

            {error ? (
              <ErrorState onRetry={fetchFeed} />
            ) : isLoading ? (
              <div className="space-y-6 animate-pulse">
                <div className="h-56 bg-zinc-900/40 rounded-xl" />
                <div className="h-56 bg-zinc-900/40 rounded-xl" />
              </div>
            ) : (
              <>
                {posts.length === 0 ? (
                  <div className="py-12 text-center border border-dashed border-white/10 rounded-2xl">
                    <Filter className="mx-auto mb-2 text-gray-500" size={16} />
                    <p className="text-gray-500 text-sm">
                      No posts yet
                    </p>
                  </div>
                ) : (
                  posts.map(post => (
                    <div
                      key={post.id}
                      className="bg-zinc-900/40 border border-white/5 rounded-2xl overflow-hidden mb-6"
                    >
                      {/* HEADER */}
                      <div className="p-4 flex items-center justify-between">
                        <div className="flex items-center gap-3">
                          <img
                            src={post.author?.profile_photo || '/avatar.png'}
                            alt="author"
                            className="w-8 h-8 rounded-full bg-zinc-700 object-cover"
                          />
                          <div>
                            <p className="font-bold text-sm">
                              @{post.author?.username || 'unknown'}
                            </p>
                          </div>
                        </div>

                        <span className="text-[10px] text-gray-500 flex items-center gap-1">
                          <Clock size={10} />
                          {new Date(post.created_at).toLocaleDateString()}
                        </span>
                      </div>

                      {/* BODY */}
                      <div className="px-4 pb-4">
                        <p className="text-gray-300 mb-3">{post.caption}</p>

                        {post.media_url && (
                          <div className="rounded-xl overflow-hidden mb-4">
                            {post.media_type === 'image' ? (
                              <img
                                src={post.media_url}
                                className="w-full max-h-[500px] object-cover"
                              />
                            ) : (
                              <video
                                src={post.media_url}
                                controls
                                className="w-full max-h-[500px]"
                              />
                            )}
                          </div>
                        )}

                        {/* ACTIONS */}
                        <div className="flex gap-6 text-xs text-gray-500">
                          <button className="flex items-center gap-2 hover:text-white">
                            <Heart size={14} /> Like
                          </button>
                          <button className="flex items-center gap-2 hover:text-white">
                            <MessageSquare size={14} /> Comment
                          </button>
                        </div>
                      </div>
                    </div>
                  ))
                )}
              </>
            )}
          </div>
        </div>
      </main>
    </div>
  );
};

export default Feed;



====================
FILE: frontend\pages\Profile.tsx
====================


import React, { useEffect, useState } from 'react';
import { Navigate, useParams } from 'react-router-dom';
import { Camera } from 'lucide-react';

import { useAuth } from '../components/AuthContext';
import Navbar from '../components/Navbar';
import Footer from '../components/Footer';
import { supabase } from '../lib/supabase';
import { uploadProfilePhoto } from '../lib/r2';
import { useNotification } from '../components/NotificationContext';

const Profile: React.FC = () => {
  const { showNotification } = useNotification();
  const { user: currentUser, updateUser, logout } = useAuth();
  const { userId } = useParams();

  const [profileUser, setProfileUser] = useState<any>(null);
  const [isLoadingProfile, setIsLoadingProfile] = useState(true);

  const isOwnProfile = !userId || (currentUser && currentUser.id === userId);

  // If no userId param, show current user. If userId param, fetch that user.
  useEffect(() => {
    if (isOwnProfile) {
      setProfileUser(currentUser);
      setIsLoadingProfile(false);
    } else {
      setIsLoadingProfile(true);
      supabase
        .from('profiles')
        .select('*')
        .eq('id', userId)
        .single()
        .then(({ data, error }) => {
          if (data) {
            setProfileUser(data);
          } else {
            console.error("Error fetching profile:", error);
          }
          setIsLoadingProfile(false);
        });
    }
  }, [userId, currentUser, isOwnProfile]);


  const [posts, setPosts] = useState<any[]>([]);
  const [isUploading, setIsUploading] = useState(false);

  /* =========================
     FORM STATE
  ========================= */
  const [isEditing, setIsEditing] = useState(false); // NEW: Inline editing state

  const [username, setUsername] = useState('');
  const [bio, setBio] = useState('');
  const [level, setLevel] = useState('');
  const [preferredFormat, setPreferredFormat] = useState('Singles');
  const [experience, setExperience] = useState(0);
  const [availableDays, setAvailableDays] = useState('');
  const [timeSlots, setTimeSlots] = useState('');
  const [achievements, setAchievements] = useState('');
  const [region, setRegion] = useState('');

  /* =========================
     LOAD POSTS
  ========================= */
  useEffect(() => {
    const targetUserId = profileUser?.id;
    if (!targetUserId) return;

    supabase
      .from('posts')
      .select('id, media_url, media_type')
      .eq('user_id', targetUserId)
      .order('created_at', { ascending: false })
      .then(({ data }) => setPosts(data || []));
  }, [profileUser?.id]);

  /* =========================
     SYNC USER â†’ FORM
  ========================= */
  const syncFormWithUser = () => {
    if (!profileUser) return;
    setUsername(profileUser.username || '');
    setBio(profileUser.bio || '');
    setLevel(profileUser.level || '');
    setPreferredFormat(profileUser.preferred_format || 'Singles');
    setExperience(profileUser.experience_years || 0);
    setAvailableDays((profileUser.available_days || []).join(', '));
    setTimeSlots((profileUser.time_slots || []).join(', '));
    setAchievements((profileUser.achievements || []).join('\n'));
    setRegion(profileUser.region || '');
  };

  useEffect(() => {
    syncFormWithUser();
  }, [profileUser]);

  if (!currentUser && !userId) return <Navigate to="/auth" replace />;
  if (isLoadingProfile) return <div className="min-h-screen bg-black text-white flex items-center justify-center">Loading...</div>;
  if (!profileUser && !isLoadingProfile) return <div className="min-h-screen bg-black text-white flex items-center justify-center">User not found</div>;

  /* =========================
     SAVE PROFILE
  ========================= */
  const handleSave = async () => {
    if (!username.trim()) {
      showNotification('Username is required', 'error');
      return;
    }

    try {
      await updateUser({
        username: username.trim(),
        bio,
        level,
        preferred_format: preferredFormat,
        experience_years: experience,
        available_days: availableDays
          .split(',')
          .map(d => d.trim())
          .filter(Boolean),
        time_slots: timeSlots
          .split(',')
          .map(t => t.trim())
          .filter(Boolean),
        achievements: achievements
          .split('\n')
          .map(a => a.trim())
          .filter(Boolean),
        region,
      });

      showNotification('Profile updated successfully', 'success');
      setIsEditing(false); // Exit edit mode
    } catch (err: any) {
      console.error('SAVE ERROR:', err);
      showNotification(err.message || 'Failed to save profile', 'error');
    }
  };

  const handleCancel = () => {
    syncFormWithUser(); // Revert changes
    setIsEditing(false);
  };


  /* =========================
     PROFILE PHOTO UPLOAD
  ========================= */
  const handlePhotoChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    // Only allow if it's the current user
    if (!e.target.files || !currentUser || !isOwnProfile) return;

    setIsUploading(true);
    try {
      const file = e.target.files[0];
      const url = await uploadProfilePhoto(file, currentUser.id);
      await updateUser({ profile_photo: url });
    } catch (err) {
      showNotification('Photo upload failed', 'error');
    } finally {
      setIsUploading(false);
    }
  };

  // Helper to render label + value/input
  const RenderField = ({ label, value, onChange, placeholder, isTextArea = false }: any) => (
    <div>
      <span className="text-gray-400 block text-sm mb-1">{label}:</span>
      {isEditing ? (
        isTextArea ? (
          <textarea
            className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
            value={value}
            onChange={(e) => onChange(e.target.value)}
            placeholder={placeholder}
            rows={3}
          />
        ) : (
          <input
            className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
            value={value}
            onChange={(e) => onChange(e.target.value)}
            placeholder={placeholder}
          />
        )
      ) : (
        <p className="font-medium">{value || <span className="text-gray-600 italic">Not set</span>}</p>
      )}
    </div>
  );

  return (
    <div className="min-h-screen bg-black text-white flex flex-col">
      <Navbar />

      <main className="flex-grow pt-32 pb-20 px-6 max-w-4xl mx-auto w-full">
        {/* ================= HEADER ================= */}
        <div className="flex flex-col items-center mb-12 text-center">
          <div className="relative">
            <img
              src={profileUser.profile_photo || '/avatar-placeholder.png'}
              className="w-40 h-40 rounded-full object-cover border-4 border-blue-600"
            />
            {isOwnProfile && (
              <label className="absolute bottom-2 right-2 bg-blue-600 p-2 rounded-full cursor-pointer hover:bg-blue-500 transition">
                <Camera size={16} />
                <input type="file" hidden onChange={handlePhotoChange} />
              </label>
            )}
          </div>

          <h1 className="text-3xl font-bold mt-4">{profileUser.name}</h1>
          <p className="text-gray-400">@{profileUser.username}</p>
          {profileUser.bio && <p className="mt-3 max-w-md text-gray-300">{profileUser.bio}</p>}
        </div>

        {/* ================= STATS ================= */}
        <div className="grid grid-cols-3 gap-4 mb-12">
          <div className="bg-zinc-900 p-6 rounded-xl text-center">
            <p className="text-gray-500 text-sm uppercase tracking-wider">ELO</p>
            <p className="text-3xl font-black italic">{profileUser.elo ?? 1200}</p>
          </div>
          <div className="bg-zinc-900 p-6 rounded-xl text-center">
            <p className="text-gray-500 text-sm uppercase tracking-wider">Exp</p>
            <p className="text-3xl font-black italic">{profileUser.experience_years ?? 0}<span className="text-base not-italic text-gray-500 ml-1">yrs</span></p>
          </div>
          <div className="bg-zinc-900 p-6 rounded-xl text-center">
            <p className="text-gray-500 text-sm uppercase tracking-wider">Posts</p>
            <p className="text-3xl font-black italic">{posts.length}</p>
          </div>
        </div>

        {/* ================= DETAILS (EDITABLE) ================= */}
        <div className="bg-zinc-900 rounded-3xl p-8 space-y-6 mb-12 border border-white/5 relative">
          <div className="flex items-center justify-between mb-4">
            <h2 className="text-2xl font-black italic uppercase tracking-tighter">Profile Details</h2>
            {isOwnProfile && !isEditing && (
              <button
                onClick={() => setIsEditing(true)}
                className="text-sm font-bold uppercase tracking-widest text-blue-500 hover:text-blue-400 border border-blue-500/30 px-4 py-2 rounded-full hover:bg-blue-500/10 transition"
              >
                Edit Details
              </button>
            )}
          </div>

          <div className="grid md:grid-cols-2 gap-6">
            {/* Fields */}
            <div>
              <span className="text-gray-400 block text-sm mb-1">Username:</span>
              {isEditing ? (
                <input
                  className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
                  value={username}
                  onChange={(e) => setUsername(e.target.value)}
                />
              ) : (
                <p className="font-medium">@{username}</p>
              )}
            </div>

            <div>
              <span className="text-gray-400 block text-sm mb-1">Location:</span>
              {isEditing ? (
                <input
                  className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
                  value={region}
                  onChange={(e) => setRegion(e.target.value)}
                />
              ) : (
                <p className="font-medium">{region || 'Not set'}</p>
              )}
            </div>

            <RenderField label="Skill Level" value={level} onChange={setLevel} placeholder="e.g. Intermediate" />
            <RenderField label="Preferred Format" value={preferredFormat} onChange={setPreferredFormat} placeholder="e.g. Singles, Doubles" />

            <div>
              <span className="text-gray-400 block text-sm mb-1">Experience (Years):</span>
              {isEditing ? (
                <input
                  type="number"
                  className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
                  value={experience}
                  onChange={(e) => setExperience(Number(e.target.value))}
                />
              ) : (
                <p className="font-medium">{experience} years</p>
              )}
            </div>

            <RenderField label="Available Days" value={availableDays} onChange={setAvailableDays} placeholder="e.g. Mon, Wed, Sat" />
            <RenderField label="Time Slots" value={timeSlots} onChange={setTimeSlots} placeholder="e.g. 6-8 PM" />
          </div>

          <div className="md:col-span-2">
            <span className="text-gray-400 block text-sm mb-1">Bio:</span>
            {isEditing ? (
              <textarea
                className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
                value={bio}
                onChange={(e) => setBio(e.target.value)}
                rows={3}
              />
            ) : (
              <p className="text-gray-300 leading-relaxed whitespace-pre-wrap">{bio || <span className="text-gray-600 italic">No bio added</span>}</p>
            )}
          </div>

          <div className="md:col-span-2">
            <span className="text-gray-400 block text-sm mb-1">Achievements:</span>
            {isEditing ? (
              <textarea
                className="w-full bg-black/50 border border-white/10 rounded-lg p-2 text-sm focus:border-blue-600 outline-none"
                value={achievements}
                onChange={(e) => setAchievements(e.target.value)}
                rows={4}
                placeholder="List achievements, one per line"
              />
            ) : (
              achievements ? (
                <ul className="list-disc list-inside text-sm text-gray-300 space-y-1">
                  {achievements.split('\n').filter(Boolean).map((a, i) => <li key={i}>{a}</li>)}
                </ul>
              ) : <span className="text-gray-600 italic">None added</span>
            )}
          </div>

          {/* Action Buttons */}
          {isEditing && (
            <div className="flex justify-end gap-4 pt-6 mt-6 border-t border-white/10">
              <button
                onClick={handleCancel}
                className="px-6 py-2 rounded-lg font-bold text-gray-400 hover:text-white hover:bg-white/5 transition"
              >
                Cancel
              </button>
              <button
                onClick={handleSave}
                className="px-8 py-2 bg-blue-600 rounded-lg font-bold text-white uppercase tracking-widest hover:bg-blue-500 shadow-lg shadow-blue-600/20 transition"
              >
                Save Changes
              </button>
            </div>
          )}
        </div>

        {/* ================= POSTS ================= */}
        <h2 className="text-3xl font-black italic uppercase tracking-tighter mb-6">Posts</h2>
        {posts.length > 0 ? (
          <div className="grid grid-cols-2 md:grid-cols-3 gap-4">
            {posts.map(post => (
              <div key={post.id} className="aspect-square rounded-2xl overflow-hidden border border-white/5 bg-zinc-900">
                {post.media_type === 'image' ? (
                  <img src={post.media_url} className="w-full h-full object-cover hover:scale-105 transition duration-500" />
                ) : (
                  <video src={post.media_url} controls className="w-full h-full object-cover" />
                )}
              </div>
            ))}
          </div>
        ) : (
          <div className="text-center py-20 border border-dashed border-white/10 rounded-3xl">
            <p className="text-gray-500">No posts yet</p>
          </div>
        )}
        {/* ================= LOGOUT ================= */}
        {isOwnProfile && (
          <div className="mt-12 text-center pb-8 border-t border-white/10 pt-12">
            <button
              onClick={logout}
              className="text-red-500 font-bold uppercase tracking-widest text-sm hover:text-red-400 border border-red-500/30 px-8 py-3 rounded-xl hover:bg-red-500/10 transition-all hover:scale-105"
            >
              Log Out
            </button>
            <p className="text-gray-600 text-xs mt-4">Pickyoursocks v1.0</p>
          </div>
        )}
      </main>

      <Footer />
    </div>
  );
};

export default Profile;



====================
FILE: frontend\pages\Radar.tsx
====================

import React, { useEffect, useState } from 'react';
import { useAuth } from '../components/AuthContext';
import Navbar from '../components/Navbar';
import RadarFeed from '../components/RadarFeed';
import StartMatchSidebar from '../components/StartMatchSidebar';
import ErrorState from '../components/ErrorState';
import { api } from '../services/api';
import { supabase } from '../lib/supabase';
import { MatchOpportunity } from '../constants';

const Radar: React.FC = () => {
    const { user, isLoading: authLoading } = useAuth();
    const [matches, setMatches] = useState<MatchOpportunity[]>([]);
    const [isLoading, setIsLoading] = useState(true);
    const [error, setError] = useState<string | null>(null);

    const fetchRadar = async () => {
        setIsLoading(true);
        setError(null);
        try {
            // Fetch match requests joined with profiles
            const { data, error } = await supabase
                .from('match_requests')
                .select(`
                    id,
                    sport,
                    scheduled_time,
                    status,
                    created_at,
                    user_id,
                    accepted_by,
                    profiles:user_id (
                        name,
                        elo,
                        location:locality
                    ),
                    match_results (
                        player1_claim,
                        player2_claim
                    )
                `)
                .order('created_at', { ascending: false });

            if (error) throw error;

            // Filter and Map Supabase data
            const validMatches: MatchOpportunity[] = (data || [])
                .filter((req: any) => {
                    // Show if active
                    if (req.status === 'active') return true;
                    // Show if accepted/completed AND user is involved
                    if (req.status === 'accepted' || req.status === 'completed') {
                        return user && (req.user_id === user.id || req.accepted_by === user.id);
                    }
                    return false;
                })
                .map((req: any) => {
                    // Check if current user has claimed
                    let userClaimed = false;
                    const resultRow = req.match_results?.[0]; // Assuming 1-to-1 or 0-to-1 via match_id

                    if (resultRow && user) {
                        if (user.id === req.user_id && resultRow.player1_claim) userClaimed = true;
                        if (user.id === req.accepted_by && resultRow.player2_claim) userClaimed = true;
                    }

                    return {
                        id: req.id,
                        title: `${req.profiles?.name || 'Unknown'} - ${req.sport}`,
                        location: req.profiles?.location || 'Unknown', // Added missing property
                        sport: req.sport,
                        distance: req.profiles?.location || 'Nearby', // Fallback
                        time: new Date(req.scheduled_time).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                        requiredEloRange: [
                            (req.profiles?.elo || 1200) - 100,
                            (req.profiles?.elo || 1200) + 100
                        ],
                        status: req.status,
                        user_id: req.user_id,
                        accepted_by: req.accepted_by,
                        userClaimed: userClaimed
                    };
                });

            setMatches(validMatches);
        } catch (err) {
            console.error('Radar fetch failed:', err);
            setError('Failed to load radar signals.');
        } finally {
            setIsLoading(false);
        }
    };

    useEffect(() => {
        fetchRadar();
    }, []);

    if (!user && authLoading) {
        return (
            <div className="min-h-screen bg-black text-white flex items-center justify-center">
                <div className="text-center">
                    <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto mb-4"></div>
                    <p className="text-gray-400">Calibrating Radar...</p>
                </div>
            </div>
        );
    }

    return (
        <div className="min-h-screen bg-black text-white">
            <Navbar />

            <main className="pt-24 pb-20 px-4 md:px-8 max-w-7xl mx-auto">
                <div className="grid lg:grid-cols-12 gap-8 items-start">

                    {/* LEFT: Matches (Radar Feed) */}
                    <div className="lg:col-span-8">
                        {error ? (
                            <ErrorState onRetry={fetchRadar} />
                        ) : isLoading ? (
                            <div className="space-y-6 animate-pulse">
                                <div className="h-40 bg-zinc-900/40 rounded-xl" />
                                <div className="h-40 bg-zinc-900/40 rounded-xl" />
                            </div>
                        ) : (
                            <RadarFeed matches={matches} user={user} />
                        )}
                    </div>

                    {/* RIGHT: Start Match Sidebar */}
                    <div className="lg:col-span-4 space-y-8 sticky top-24">
                        <StartMatchSidebar />
                    </div>
                </div>
            </main>
        </div>
    );
};

export default Radar;



====================
FILE: frontend\pages\Rankings.tsx
====================

import React, { useState, useEffect } from 'react';
import Navbar from '../components/Navbar';
import Footer from '../components/Footer';
import { MapPin, TrendingUp, Trophy, ArrowRight, Loader2 } from 'lucide-react';
import { api } from '../services/api';
import { NearbyUser } from '../constants';
import ErrorState from '../components/ErrorState';

// Mock rank data for the current user
const MY_RANK = {
    rank: 12,
    location: 'Koramangala',
    city: 'Bangalore',
    tier: 'Intermediate II',
    nextMilestone: 40,
    nextTier: 'Advanced',
    points: 1250,
};

const Rankings: React.FC = () => {
    const [users, setUsers] = useState<NearbyUser[]>([]);
    const [isLoading, setIsLoading] = useState(true);
    const [error, setError] = useState<string | null>(null);

    const fetchRankings = async () => {
        setIsLoading(true);
        setError(null);
        try {
            const data = await api.getNearbyUsers();
            setUsers(data);
        } catch (error) {
            console.error("Failed to fetch rankings:", error);
            setError("Failed to load leaderboard.");
        } finally {
            setIsLoading(false);
        }
    };

    useEffect(() => {
        fetchRankings();
    }, []);

    return (
        <div className="min-h-screen bg-black text-white selection:bg-blue-600/30">
            <Navbar />

            <main className="pt-24 pb-20 px-4 md:px-8 max-w-4xl mx-auto animate-enter">
                <div className="mb-12">
                    <h1 className="text-4xl md:text-6xl font-black italic uppercase tracking-tighter mb-4">
                        Your <span className="text-blue-600">Standing</span>
                    </h1>
                    <p className="text-gray-400 text-lg">
                        Compete with players in your area and climb the local ladder.
                    </p>
                </div>

                {/* 1. Hero Stat Card */}
                <div className="relative overflow-hidden rounded-3xl bg-zinc-900 border border-white/10 p-8 md:p-12 mb-12 shadow-2xl">
                    <div className="absolute inset-0 bg-gradient-to-r from-blue-900/20 to-purple-900/20 opacity-50" />
                    <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10" />

                    <div className="relative grid md:grid-cols-3 gap-8 items-center text-center md:text-left">
                        {/* Local Rank */}
                        <div className="space-y-2">
                            <div className="text-xs font-bold uppercase tracking-widest text-gray-400">Local Rank</div>
                            <div className="flex items-center justify-center md:justify-start gap-3">
                                <span className="text-6xl font-black italic tracking-tighter text-white">#{MY_RANK.rank}</span>
                                <div className="text-left">
                                    <span className="block text-xs font-bold text-gray-500">IN</span>
                                    <span className="flex items-center gap-1 text-sm font-bold text-blue-400">
                                        {MY_RANK.location} <MapPin size={12} />
                                    </span>
                                </div>
                            </div>
                        </div>

                        {/* Tier */}
                        <div className="space-y-2 border-t md:border-t-0 md:border-l border-white/10 pt-8 md:pt-0 md:pl-8">
                            <div className="text-xs font-bold uppercase tracking-widest text-gray-400">Current Tier</div>
                            <h2 className="text-3xl font-black italic uppercase tracking-tight text-white">{MY_RANK.tier}</h2>
                            <p className="text-xs text-gray-500 font-medium">Top 15% of players in {MY_RANK.city}</p>
                        </div>

                        {/* Next Milestone */}
                        <div className="space-y-2 border-t md:border-t-0 md:border-l border-white/10 pt-8 md:pt-0 md:pl-8">
                            <div className="text-xs font-bold uppercase tracking-widest text-gray-400">Next Milestone</div>
                            <div className="flex items-center justify-center md:justify-start gap-2 text-green-400">
                                <TrendingUp size={20} />
                                <span className="text-2xl font-black italic">+{MY_RANK.nextMilestone} pts</span>
                            </div>
                            <p className="text-xs text-gray-400 flex items-center gap-1">
                                to reach <span className="text-white font-bold">{MY_RANK.nextTier}</span> <ArrowRight size={10} />
                            </p>
                        </div>
                    </div>
                </div>

                {/* 2. Leaderboard Table */}
                <div className="bg-zinc-950 border border-white/5 rounded-2xl overflow-hidden">
                    <div className="p-6 border-b border-white/5 bg-zinc-900/50 flex items-center justify-between">
                        <h3 className="text-xl font-bold uppercase tracking-wide flex items-center gap-2">
                            <Trophy className="text-yellow-500" size={20} />
                            {MY_RANK.location} Leaderboard
                        </h3>
                        <button className="text-xs font-bold uppercase tracking-widest text-blue-500 hover:text-white transition-colors">
                            View Global â†’
                        </button>
                    </div>

                    {error ? (
                        <div className="p-6">
                            <ErrorState onRetry={fetchRankings} message="Failed to load leaderboard." />
                        </div>
                    ) : isLoading ? (
                        <div className="p-6 space-y-4">
                            {[1, 2, 3, 4, 5].map((_, i) => (
                                <div key={i} className="flex items-center justify-between animate-pulse">
                                    <div className="flex items-center gap-4 w-1/2">
                                        <div className="w-8 h-8 bg-zinc-900 rounded-lg"></div>
                                        <div className="w-10 h-10 bg-zinc-900 rounded-full"></div>
                                        <div className="space-y-2 flex-1">
                                            <div className="h-4 bg-zinc-900 rounded w-3/4"></div>
                                            <div className="h-3 bg-zinc-900 rounded w-1/2"></div>
                                        </div>
                                    </div>
                                    <div className="w-20 h-6 bg-zinc-900 rounded"></div>
                                </div>
                            ))}
                        </div>
                    ) : users.length > 0 ? (
                        <div className="overflow-x-auto">
                            <table className="w-full text-left">
                                <thead className="bg-zinc-900/50 text-xs font-bold uppercase tracking-wider text-gray-500">
                                    <tr>
                                        <th className="px-6 py-4">Rank</th>
                                        <th className="px-6 py-4">Athlete</th>
                                        <th className="px-6 py-4">Tier</th>
                                        <th className="px-6 py-4 text-right">Points</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-white/5">
                                    {users.map((user, index) => (
                                        <tr key={user.id} className="hover:bg-white/5 transition-colors group">
                                            <td className="px-6 py-4 font-black italic text-gray-500">
                                                #{user.rank}
                                            </td>
                                            <td className="px-6 py-4">
                                                <div className="flex items-center gap-3">
                                                    <img src={user.image} alt={user.name} className="w-10 h-10 rounded-full object-cover bg-zinc-800" />
                                                    <div>
                                                        <div className="font-bold text-white group-hover:text-blue-500 transition-colors">{user.name}</div>
                                                        <div className="text-xs text-gray-500 font-bold uppercase tracking-wider">{user.sport}</div>
                                                    </div>
                                                </div>
                                            </td>
                                            <td className="px-6 py-4 text-sm font-medium text-gray-400">
                                                {index === 0 ? 'Elite' : index < 3 ? 'Advanced' : 'Intermediate'}
                                            </td>
                                            <td className="px-6 py-4 text-right font-black italic text-white text-lg">
                                                {2500 - (index * 150)}
                                            </td>
                                        </tr>
                                    ))}

                                    {/* Mock inserting the current user at #12 */}
                                    <tr className="bg-blue-900/20 border-l-4 border-blue-500">
                                        <td className="px-6 py-4 font-black italic text-blue-400">
                                            #{MY_RANK.rank}
                                        </td>
                                        <td className="px-6 py-4">
                                            <div className="flex items-center gap-3">
                                                <div className="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center font-bold text-white">ME</div>
                                                <div>
                                                    <div className="font-bold text-white">You</div>
                                                    <div className="text-xs text-blue-400 font-bold uppercase tracking-wider">Intermediate II</div>
                                                </div>
                                            </div>
                                        </td>
                                        <td className="px-6 py-4 text-sm font-medium text-gray-300">
                                            {MY_RANK.tier}
                                        </td>
                                        <td className="px-6 py-4 text-right font-black italic text-white text-lg">
                                            {MY_RANK.points}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    ) : (
                        <div className="py-20 text-center">
                            <Trophy className="mx-auto h-16 w-16 text-zinc-800 mb-4" />
                            <h3 className="text-lg font-bold text-white mb-2">Season Starts Soon</h3>
                            <p className="text-gray-400 max-w-sm mx-auto">
                                The ladder is currently resetting. Check back later to see who claims the top spot.
                            </p>
                        </div>
                    )}
                </div>

            </main>
            <Footer />
        </div>
    );
};

export default Rankings;



====================
FILE: frontend\services\api.ts
====================

import {
    FEED_ITEMS,
    MATCH_OPPORTUNITIES,
    NEARBY_USERS,
    MATCH_RESULTS,
    FeedItem,
    MatchOpportunity,
    NearbyUser,
    MatchResult
} from '../constants';

// Simulated network delay to test loading states (in milliseconds)
const SIMULATED_DELAY = 800;

const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms));

export const api = {
    /**
     * Fetch the main activity feed (posts, match requests, events)
     */
    getFeed: async (): Promise<FeedItem[]> => {
        await delay(SIMULATED_DELAY);
        return FEED_ITEMS;
    },

    /**
     * Fetch "Radar" match opportunities
     */
    getRadarMatches: async (): Promise<MatchOpportunity[]> => {
        await delay(SIMULATED_DELAY);
        return MATCH_OPPORTUNITIES;
    },

    /**
     * Fetch users nearby (for People Near You / Rankings)
     */
    getNearbyUsers: async (): Promise<NearbyUser[]> => {
        await delay(SIMULATED_DELAY);
        return NEARBY_USERS;
    },

    /**
     * Fetch live match results for the ticker
     */
    getMatchResults: async (): Promise<MatchResult[]> => {
        await delay(SIMULATED_DELAY);
        return MATCH_RESULTS;
    }
};



====================
FILE: frontend\src\vite-env.d.ts
====================

/// <reference types="vite/client" />


